#!/bin/bash
############################## !!! IMPORTANTE !!! #######################################
#                                                                                       #
# Script name: light_installer_2.3.7                                                    #
# Version: Github Repository Master (https://github.com/fiveten59/Vdr_installer)        #
#                                                                                       #
# To be put in your /usr/local/bin                                                      #
# chmod the script, then load it simply typing: sudo ./light_installer_2.3.7            #
#                                                                                       #
#########################################################################################
#
PLUGIN="--lirc -P'softhddevice -f' -P'dvbapi' -P'skindesigner -l /etc/vdr/logos/ -i /usr/local/share/vdr/plugins/skindesigner/skins/' -P'skinflatplus -l /etc/vdr/logos/' -P'weatherforecast' -P'iptv' -P'tvguideng' -P'tvguide' -P'epgsearch' -P'externalplayer'"
# 
#REPO='home/'logname'/sifinstallrepo'
ETC='/usr/local/etc'
SRC='/usr/local/src'
SRCVDR='/usr/local/src/vdr-2.3.7'
VDRSRC=''$SRC'/vdr/PLUGINS/src'
LIB='/usr/local/lib/vdr/plugins'
VDR='vdr-2.3.7'
PACKAGES=""$SRC"/packages"
ARCHIVES=""$SRC"/archives"
SCRIPTS=""$SRC"/archives/scripts"
MANUALS=""$SRC"/READ_THIS"
TEMP='/tmp'
SKIN='/etc/vdr/plugins/text2skin'
SKINS='/usr/local/share/vdr/plugins/skindesigner/skins/'
SHARE='/usr/local/share/vdr/plugins'
PLUGINS='/etc/vdr/plugins'
TIMESTAMP=`date +%Y%m%d.%R`
ALLOWED="#
# allowed_hosts.conf  This file describes a number of host addresses that
#                     are allowed to connect to the streamdev/vn****rver/xvdr/xinelioutput server running 
#                     with the Video Disk Recorder (VDR) on this system.
# Syntax:
#
# IP-Address[/Netmask]
#
127.0.0.1             # always accept localhost
192.168.1.0/24        # any host on the local net
192.168.0.0/24        # any host on the local net
#204.152.189.113      # a specific host
#0.0.0.0/0            # any host on any net (USE THIS WITH CARE!)
#
#
# SE LA VOSTRA CONFIGURAZIONE DI RETE E' QUESTA NON TOCCATELA!!!
# ESCI CON CTRL+X
#
# SE LA VOSTRA CONFIGURAZIONE DI RETE E' DIVERSA MODIFICALA
# SALVA CON CTRL+O ED ESCI CON CTRL+X "
#
MONO13="#
# Full DiSEqC sequence:
# 13E
S13.0E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S13.0E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S13.0E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T
#
"
MONO19="#
# Full DiSEqC sequence:
# 13E
S19.2E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S19.2E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S19.2E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S19.2E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T
#
"
DUAL="#
# Full DiSEqC sequence:
# 13 - 19.2E
S13.0E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S13.0E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S13.0E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T

S19.2E  11700 V  9750  t v W15 [E0 10 38 F4] W15 B W15 t
S19.2E  99999 V 10600  t v W15 [E0 10 38 F5] W15 B W15 T
S19.2E  11700 H  9750  t V W15 [E0 10 38 F6] W15 B W15 t
S19.2E  99999 H 10600  t V W15 [E0 10 38 F7] W15 B W15 T
#
"
TRIAL="# Full DiSEqC sequence:
# 9 - 13 - 19.2E
S9E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S9E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S9E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S9E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S13.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S13.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S13.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S13.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S19.2E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S19.2E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T
#
"
TRIAL2="# Full DiSEqC sequence:
# 13 - 16 - 19.2E
S13.0E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S13.0E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S13.0E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S16.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S16.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S16.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S16.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S19.2E 11700 V 9750 t v W15 [E0 10 38 F8] W15 A W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S19.2E 11700 H 9750 t V W15 [E0 10 38 FA] W15 A W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T
#
"
QUADRI="# Full DiSEqC sequence:
# 13 - 19 - 23.5 - 28.2°E
S13.0E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S13.0E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S13.0E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S19.2E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S19.2E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S23.5E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S23.5E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S23.5E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S23.5E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T

S28.2E  11700 V  9750  t v W15 [E0 10 38 FC] W15 B W15 t
S28.2E  99999 V 10600  t v W15 [E0 10 38 FD] W15 B W15 T
S28.2E  11700 H  9750  t V W15 [E0 10 38 FE] W15 B W15 t
S28.2E  99999 H 10600  t V W15 [E0 10 38 FF] W15 B W15 T
#
"
QUADRI2="# Full DiSEqC sequence:
# 13 - 19 - 23.5 - 28.2°E
S9E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S9E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S9E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S9E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S13.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S13.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S13.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S13.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S16.0E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S16.0E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S16.0E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S16.0E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T

S19.2E  11700 V  9750  t v W15 [E0 10 38 FC] W15 B W15 t
S19.2E  99999 V 10600  t v W15 [E0 10 38 FD] W15 B W15 T
S19.2E  11700 H  9750  t V W15 [E0 10 38 FE] W15 B W15 t
S19.2E  99999 H 10600  t V W15 [E0 10 38 FF] W15 B W15 T
#
"
#
    apt-get -y install dialog git cvs mercurial checkinstall
    #
    exit_status_check()
    {
    if [ $? -ne 0 ]; then
    echo "Install did not run successfully";
    echo "                    Press Enter to continue ...               "; read enterKey; exit 1
   else
   echo "Install successful"
    fi   
    }

    press_enter()
    {
     echo "                    Press Enter to continue ...               "; read enterKey; exit 0
    }

    timer_start()
    {
    BEGIN=$(date +%s)
    }


    timer_stop()
    {
    NOW=$(date +%s)
    let DIFF=$(($NOW - $BEGIN))
    let MINS=$(($DIFF / 60))
    let SECS=$(($DIFF % 60))
    echo Time elapsed: $MINS:`printf %02d $SECS` >> $LOGFILE
    }

    line()
    {
    echo "-----------------------------------" >> $LOGFILE
    }
    # Make sure only root can run the script
    if [ "$(id -u)" != "0" ]; then
    echo "This script must be run as root" 1>&2
    exit 1
    fi
    # User
    useradd vdr -g video -d /home/vdr -s /bin/bash -m
    # Some folders
    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          #########################################
                                          #                  MENU'                #
                                          #########################################


    mkdir $SRC/packages $SRC/archives $SRC/scripts $SRC/READ_THIS
    while :
    do
    dialog --title " VDR Light Installer Github Repository " --infobox "Copyright (C) 2017
                                                                        
    This file is part of VDR Complete Installer (VCI).                   
                                                                        
    VCI is free software: you can redistribute it and/or modify          
    it under the terms of the GNU General Public License as published by 
    the Free Software Foundation, either version 3 of the License, or    
    (at your option) any later version.                                  
                                                                        
    VCI is distributed in the hope that it will be useful,               
    but WITHOUT ANY WARRANTY; without even the implied warranty of       
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the        
    GNU General Public License for more details.                         
                                                                        
    You should have received a copy of the GNU General Public License    
    along with VCI. see the file VCI_License.GPL, If not see             
    <http://www.gnu.org/licenses/>.                                   
                                                                        
    Credit                                     
    =====================================                     
                                                                               
    Questo script e' stato creato per installare VDR in ambiente grafico        
    con l'aiuto di tutta la comunità vdr che conosco e tutta la loro esperienza   
    percio e' molto importante dare a loro credito          

    Ringraziamenti :                             
    a tutti gli user del sifteam forum e di vdritalia
    
    Ringraziamento Speciale :
    Klaus Schmidinger Sviluppatore VDR e Team 
    
    IN PARTICOLARE :                                
    Mona, Unixer, fiveten_59, Grazymax, Knap, jackblow33, Alez, Shalafi, Homer314, 
    Mr Cool Span, fusibile73, ceo16, Asgarot, Armando Basile, daredavil87, 
    il Team Mld e tanti ... tanti altri.                             
                                                                              
    =====================================                     " 0 0
    echo "                    Press Enter to continue ...               "; read enterKey
    
    #
    #    
    dialog --title " VDR Light Installer Github Repository " --infobox "Copyright (C) 2017
    

	Script name: light_installer_2.3.7                                                  
	Version: Github Repository Master  (https://github.com/fiveten59/Vdr_installer)                                                     
                                                                                              
	To be put in your /usr/local/bin                                                      
	chmod the script, then load it simply typing: sudo ./light_installer_2.3.7            
                                                                                       
                                                               " 0 0

###########################################################################################################

    echo "                    Press Enter to continue ...               "; read enterKey
    #
    #
    clear
    echo ""
    dialog --title "   ♦♦♦♦♦   VDR 2.3.7 Light Version Installer Script - Libraries & Codec  ♦♦♦♦♦   " --infobox "
          ╭===========================================================================================╮    
          |   ................♦♦♦   Download & Upgrade Local Repository   ♦♦♦...................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [1]    +[Submenu] ~~  Local Repository Directory ~  Install - Upgrade  .............  |              
          |   =======================================================================================   |
          |   ..........♦♦♦   Audio Video & Codec Libraries - Install & Uninstall  ♦♦♦........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [2]    +[Submenu] ~~  X264 git ~ X265 hg ~ Fdk-aac git ~ Libvpx git ~ FFmpeg git  .......  |         
          |   =======================================================================================   |
          |   .............♦♦♦                        VDR - Plugins  - Skin               ♦♦♦.........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [3]    +[Submenu] ~~  VDR 2.3.7 & Plugins ................................................ |     
          |   =======================================================================================   |
          |   .............♦♦♦                    Channells Lists Setup                 ♦♦♦........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [4]    +[Submenu] ~~  Channells Lists ~ Install ~ Uninstall  .............................  |     
          |   =======================================================================================   |
          |   .............................♦♦♦  KODI Setup  ♦♦♦.............................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [5]    +[Submenu] ~~  Kodi ~ Media Center ~ Install ~ Uninstall  .......................  |          
          |   =======================================================================================   |
          |   .............................♦♦♦   Utility Setup  ♦♦♦...........................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |    
          |   [6]    +[Submenu] ~~  Check Configuration Files  .....................................  |          
          |   =======================================================================================   |
          |   .............................♦♦♦   Exit Setup Menu   ♦♦♦.......................  |          
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |              
          |   [7]   Exit  ............................................................................  |  
          ╰===========================================================================================╯" 0 0

    echo -n "              Enter your menu choice = Submenu [1~6] -- Exit [7] :        "
    read yourch
    case $yourch in


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
1)                                        #########################################
                                          #            Local Repository           #
                                          #########################################


    clear
    dialog --title "   ** Download & Upgrade Local Repository **   " --infobox "
   ---------------------------------------------------------------------------------------------
       Install ~ Upgrade ~ Remove ~ Local Repository 
   ---------------------------------------------------------------------------------------------
        
        *****  Crea  ***** 
        [a]  Install ~ (If Not Exist) ............ [b]  Remove & Upgrade 
        
        [z]  Skip      
        
   ---------------------------------------------------------------------------------------------" 0 0
    echo -n "        Enter your menu choice = Install [a] ~~ Remove & Upgrade [b] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    a) clear; cd /home/`logname`; mkdir -p sifinstallrepo;
    chmod -R 777 sifinstallrepo;
    cd sifinstallrepo;
    
############################### Download libraries on local repo ################################### 


if [ -s /home/`logname`/sifinstallrepo/x264 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://git.videolan.org/x264.git;
  fi 

if [ -s /home/`logname`/sifinstallrepo/x265 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    hg clone http://hg.videolan.org/x265;
  fi

if [ -s /home/`logname`/sifinstallrepo/fdk-aac ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/mstorsjo/fdk-aac.git;
  fi

if [ -d /home/`logname`/sifinstallrepo/libvpx ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://chromium.googlesource.com/webm/libvpx
fi

if [ -s /home/`logname`/sifinstallrepo/nvidia_video_sdk_6.0.1.zip ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget http://developer.download.nvidia.com/assets/cuda/files/nvidia_video_sdk_6.0.1.zip;
  fi

if [ -s /home/`logname`/sifinstallrepo/ffmpeg ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://git.ffmpeg.org/ffmpeg.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/libass ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/libass/libass.git;
fi

if [ -s /home/`logname`/sifinstallrepo/eventlircd ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/OpenELEC/eventlircd.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/eventlircd.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/cqwpl0w4cyqhrux/eventlircd.conf.tar.gz;
  fi

################################ Download Vdr and Plugins on local repo ##############################

if [ -s /home/`logname`/sifinstallrepo/vdr-2.3.7.tar.bz2 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget ftp://ftp.tvdr.de/vdr/Developer/vdr-2.3.7.tar.bz2;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-patches.2.3.7.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/9ewx7vriddfcxc7/vdr-patches.2.3.7.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/Make.config.2.3.7 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/el76ioots63nq07/Make.config.2.3.7;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdrsymbols.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/bx97ikp7c1h2qj2/vdrsymbols.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-epgsearch ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone http://projects.vdr-developer.org/git/vdr-plugin-epgsearch.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_epgsearch.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/s9vggu8mil8ss7t/patch_epgsearch.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-dvbapi ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://github.com/manio/vdr-plugin-dvbapi.git; 
  fi

if [ -s /home/`logname`/sifinstallrepo/dvbapi.patch.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/5tyvqkbhohbbju2/dvbapi.patch.tar.gz;
  fi  
  
if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-softhddevice ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/rofafor/vdr-plugin-softhddevice.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_softhddevice_4.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/ba5njlguttwlvao/patch_softhddevice_4.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-tvguide ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguide.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_tvguide.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/xkax9z6qumb76dj/patch_tvguide.tar.gz;
fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-tvguideng ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguideng.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_tvguideng.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/qjmzsml13sdhk0u/patch_tvguideng.tar.gz;
  fi

 if [ -s /home/`logname`/sifinstallrepo/01_Add_language_It.patch.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/jrizzen5q8o07uv/01_Add_language_It.patch.tar.gz;
  fi 

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-iptv ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/rofafor/vdr-plugin-iptv.git; 
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_iptv.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"; 
    wget https://www.dropbox.com/s/nof5ydmxrplw2b0/patch_iptv.tar.gz;
fi

if [ -s /home/`logname`/sifinstallrepo/iptv_conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"; 
    wget https://www.dropbox.com/s/1ujtklnct0nqq6q/iptv_conf.tar.gz;
fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-weatherforecast ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-weatherforecast.git  
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_weatherforecast.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/v0ipkt6x3bfbbs8/patch_weatherforecast.tar.gz;
fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-externalplayer ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://git.uli-eckhardt.de/vdr-plugin-externalplayer.git;
fi

if [ -s /home/`logname`/sifinstallrepo/externalplayer.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/vhz1fz68159s0qg/externalplayer.conf.tar.gz;
fi

if [ -s /home/`logname`/sifinstallrepo/satellite_pack.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/400whbxq4tzsbtq/satellite_pack.tar.gz;    
fi

################################# Download skins ########################################

if [ -s /home/`logname`/sifinstallrepo/logos.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/omrs8wwh5jbz46e/logos.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/skin-flatplus ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone http://projects.vdr-developer.org/git/skin-flatplus.git;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_skinflatplus.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/gpsnxpj4kellu5d/patch_skinflatplus.tar.gz;
  fi
   
if [ -s /home/`logname`/sifinstallrepo/icone.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/5uvx468b4b87auy/icone.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/lcars_pack.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/806odyj5vyco3dg/lcars_pack.tar.gz;
  fi 

if [ -s /home/`logname`/sifinstallrepo/picon.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/hb2mv9ytz5q6yz7/picon.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-plugin-skindesigner ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
     git clone git://projects.vdr-developer.org/vdr-plugin-skindesigner.git;
  fi   

if [ -s /home/`logname`/sifinstallrepo/themes.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/m32a4s23h7r00mg/themes.tar.gz;
  fi

############################# Download others ##############################

if [ -s /home/`logname`/sifinstallrepo/traduzioni.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/6hzpdx9yv5ypzxv/traduzioni.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/getchannels.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/os0dz379o9rdtk3/getchannels.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/vdr-getchannels-0.7.2.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/tqua9jro2touw8c/vdr-getchannels-0.7.2.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/channels.conf.terr.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/4jmjiurewriu1sh/channels.conf.terr.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/channels.conf.dual.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/z3czcyw5za82utc/channels.conf.dual.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/channels.conf.astra.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/vt0wxz86c3x6y1n/channels.conf.astra.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/channels.conf.trial.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/reovn22nauzb2se/channels.conf.trial.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/hauppauge-remote.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/gvel64ykd3eyx07/hauppauge-remote.conf.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/mce-remote.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/hsp66258srhwa1d/mce-remote.conf.tar.gz;
  fi  
  
if [ -s /home/`logname`/sifinstallrepo/oscam.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/56oomdr58os7msa/oscam.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/oscam32.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/2unpbn5x3vz0te4/oscam32.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/oscam64.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/lvs3eb7q64ericc/oscam64.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/setup16.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/873qnh3yxmnzo0o/setup16.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/setup43.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/81fd2z1ye192lnx/setup43.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/w_scan-20170107.tar.bz2 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget http://wirbel.htpc-forum.de/w_scan/w_scan-20170107.tar.bz2;
  fi

if [ -s /home/`logname`/sifinstallrepo/patch_w_scan.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/omt6155y22a5ft3/patch_w_scan.tar.gz;
  fi

if [ -s /home/`logname`/sifinstallrepo/flat_weather.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/v6o2zsjt7yvascy/flat_weather.tar.gz;
  fi

chmod -R 777 *;;
  
######################################################################################  

    b) clear; cd /home/`logname`/sifinstallrepo; rm -rf *;

######################################################################################  
############################ Download libraries on local repo ####################################

    git clone https://github.com/libass/libass.git;
    git clone https://github.com/mstorsjo/fdk-aac.git;
    git clone git://git.videolan.org/x264.git;
    hg clone http://hg.videolan.org/x265;
    git clone https://chromium.googlesource.com/webm/libvpx;
    git clone https://git.ffmpeg.org/ffmpeg.git;
    wget http://developer.download.nvidia.com/assets/cuda/files/nvidia_video_sdk_6.0.1.zip;
    git clone https://github.com/OpenELEC/eventlircd.git;
    wget https://www.dropbox.com/s/cqwpl0w4cyqhrux/eventlircd.conf.tar.gz;

############################ Download Vdr and Plugins on local repo ################################

    wget ftp://ftp.tvdr.de/vdr/Developer/vdr-2.3.7.tar.bz2;
    wget https://www.dropbox.com/s/9ewx7vriddfcxc7/vdr-patches.2.3.7.tar.gz;
    wget https://www.dropbox.com/s/el76ioots63nq07/Make.config.2.3.7;
    wget https://www.dropbox.com/s/bx97ikp7c1h2qj2/vdrsymbols.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguide.git;
    wget https://www.dropbox.com/s/xkax9z6qumb76dj/patch_tvguide.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguideng.git;
    wget https://www.dropbox.com/s/qjmzsml13sdhk0u/patch_tvguideng.tar.gz;
    git clone https://github.com/rofafor/vdr-plugin-softhddevice.git;
    wget https://www.dropbox.com/s/ba5njlguttwlvao/patch_softhddevice_4.tar.gz;
    git clone http://projects.vdr-developer.org/git/vdr-plugin-epgsearch.git;
    wget https://www.dropbox.com/s/s9vggu8mil8ss7t/patch_epgsearch.tar.gz;
    git clone git://github.com/manio/vdr-plugin-dvbapi.git;
    wget https://www.dropbox.com/s/5tyvqkbhohbbju2/dvbapi.patch.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-weatherforecast.git;
    wget https://www.dropbox.com/s/v0ipkt6x3bfbbs8/patch_weatherforecast.tar.gz;
    git clone https://github.com/rofafor/vdr-plugin-iptv.git; 
    wget https://www.dropbox.com/s/nof5ydmxrplw2b0/patch_iptv.tar.gz;
    wget https://www.dropbox.com/s/1ujtklnct0nqq6q/iptv_conf.tar.gz;
    git clone https://git.uli-eckhardt.de/vdr-plugin-externalplayer.git;
    wget https://www.dropbox.com/s/vhz1fz68159s0qg/externalplayer.conf.tar.gz;
    wget https://www.dropbox.com/s/400whbxq4tzsbtq/satellite_pack.tar.gz;   


############################ Download skins ########################################

    wget https://www.dropbox.com/s/zwb0vp6gfwh7d4y/anthra_pack.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-skindesigner.git;
    git clone http://projects.vdr-developer.org/git/skin-flatplus.git;
    wget https://www.dropbox.com/s/gpsnxpj4kellu5d/patch_skinflatplus.tar.gz;
    wget https://www.dropbox.com/s/806odyj5vyco3dg/lcars_pack.tar.gz;

############################ Download others #######################################      
    wget https://www.dropbox.com/s/6hzpdx9yv5ypzxv/traduzioni.tar.gz;
    wget https://www.dropbox.com/s/os0dz379o9rdtk3/getchannels.tar.gz;
    wget https://www.dropbox.com/s/tqua9jro2touw8c/vdr-getchannels-0.7.2.tar.gz;
    wget https://www.dropbox.com/s/jrizzen5q8o07uv/01_Add_language_It.patch.tar.gz;
    wget https://www.dropbox.com/s/z3czcyw5za82utc/channels.conf.dual.tar.gz;
    wget https://www.dropbox.com/s/reovn22nauzb2se/channels.conf.trial.tar.gz;
    wget https://www.dropbox.com/s/4jmjiurewriu1sh/channels.conf.terr.tar.gz;
    wget https://www.dropbox.com/s/vt0wxz86c3x6y1n/channels.conf.astra.tar.gz;
    wget https://www.dropbox.com/s/hsp66258srhwa1d/mce-remote.conf.tar.gz;
    wget https://www.dropbox.com/s/gvel64ykd3eyx07/hauppauge-remote.conf.tar.gz;
    wget https://www.dropbox.com/s/5uvx468b4b87auy/icone.tar.gz;
    wget https://www.dropbox.com/s/56oomdr58os7msa/oscam.tar.gz;
    wget https://www.dropbox.com/s/2unpbn5x3vz0te4/oscam32.tar.gz;
    wget https://www.dropbox.com/s/lvs3eb7q64ericc/oscam64.tar.gz;
    wget https://www.dropbox.com/s/hb2mv9ytz5q6yz7/picon.tar.gz;
    wget https://www.dropbox.com/s/873qnh3yxmnzo0o/setup16.tar.gz;
    wget https://www.dropbox.com/s/81fd2z1ye192lnx/setup43.tar.gz;
    wget https://www.dropbox.com/s/m32a4s23h7r00mg/themes.tar.gz;
    wget http://wirbel.htpc-forum.de/w_scan/w_scan-20170107.tar.bz2
    wget https://www.dropbox.com/s/omt6155y22a5ft3/patch_w_scan.tar.gz;
    wget https://www.dropbox.com/s/omrs8wwh5jbz46e/logos.tar.gz; 
    wget https://www.dropbox.com/s/v6o2zsjt7yvascy/flat_weather.tar.gz;
    #
    chmod -R 777 *;;
    #echo "                    Press Enter to continue ...               "; read enterKey;
    
    
    
    
#############################################################################################################################  

    z) ;;
    esac
    echo " Press Enter to continue ... "; read enterKey;;
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #

2)                                        #######################################################
                                          #  Submenu - X264 - X265 - FDK-AAC - LIBVPX - FFMPEG  #
                                          #######################################################
                  
    clear        
    dialog --title "   ** Install Libraries & Codec - X264 - X265 - FDK-AAC - LIBVPX - FFMPEG **   " --infobox "
   --------------------------------------------------------------------------------------------------------------------
                                     Install or Remove Libraries
   --------------------------------------------------------------------------------------------------------------------
        
        *****  Install  *****  ............................  *****  Remove  *****
        [a]    X264 26.09.2015 Git  .......................  [a1]    X264 26.09.2015 Git
        [b]    X265 HG  ...................................  [b1]    X265 HG
        [c]    FDK-AAC Git  ...............................  [c1]    FDK-AAC Git
        [d]    NVIDIA Video Codec 6.1 SDK .................  [d1]    NVIDIA Video Codec 6.1 SDK
        [e]    LIBVPX 1.6.1 ...............................  [e1]    LIBVPX 1.6.1 
        [f]    FFMPEG (Git Version)........................  [f1]    FFMPEG (Git Version)
        
        [z]    Skip

   -------------------------------------------------------------------------------------------------------------------- 

        Info:
        For reinstalling or upgrading x264 and x265 pls remove 
        libx264-dev - x264 - ffmpeg typing:
        ~$ sudo apt-get purge x264 libx264-dev ffmpeg
        
        Info:
        - FFMPEG - Choice between X264 & X265 Support for NVENC
        
        Info:
        - NVIDIA Video Codec 6.1 SDK --- NVENC Hardware Accelerated Video Encoding Decoding ~ H.264 and H.265 (HEVC)
        

   -------------------------------------------------------------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a-g] ~~ Remove [a1-g1] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    
    
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a)                                        #########################################
                                          #                   X264                #
                                          #########################################


    apt-get -y remove x264
    clear
    apt-get update;
    apt-get -y install build-essential checkinstall git libfaac-dev libgpac-dev libjack-jackd2-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev librtmp-dev libsdl1.2-dev
    #apt-get -y remove libvdpau1 libvdpau-dev;     apt-get -y auto-remove libvdpau1 libvdpau-dev;
    #apt-get -y install libvdpau1 libvdpau-dev
    apt-get -y install libtheora-dev libva-dev libvorbis-dev libx11-dev libxfixes-dev libxext-dev pkg-config texi2html yasm zlib1g-dev
    apt-get -y install mercurial cvs subversion git-core libncurses-dev autoconf autopoint libtool automake  gettext nasm liba52-0.7.4-dev libpng12-dev libxt-dev libxv-dev libxvmc-dev libasound2-dev libmpcdec-dev libxvidcore-dev libfaad-dev libx264-dev
    apt-get -y install cmake cmake-curses-gui
    clear
    echo "                    Installing X264 - Git"; sleep 4
    cd /usr/local/src;
    rm -Rf $SRC/x264;
    cp -rf /home/`logname`/sifinstallrepo/x264 /usr/local/src/;
    cd x264; git checkout stable;
    ./configure --enable-pic --enable-shared --extra-cflags="-mtune=native -march=native -mfpmath=sse -O4 -pipe"
    make -j4
    checkinstall --pkgname=x264 --pkgversion="2:26.09.2015-git" --bk --default --deldoc=yes --pakdir=$PACKAGES
    ldconfig -v;;  

    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a1)                                       #########################################
                                          #               Remove X264             #
                                          #########################################


    clear
    echo "                    Removing X264 - Git"; sleep 4
    apt-get -y purge x264; rm -r /usr/local/src/x264; rm /usr/local/src/packages/x264*;;

    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
b)                                        #########################################
                                          #                  X265                 #
                                          #########################################


    apt-get -y remove x265
    clear
    echo "                    Installing X265 - Git"; sleep 4
    cd /usr/local/src
    rm -Rf $SRC/x265
    #hg clone https://bitbucket.org/multicoreware/x265
    cp -rf /home/`logname`/sifinstallrepo/x265 /usr/local/src/;
    cd x265/build/linux;
    ./make-Makefiles.bash
    make -j4
    checkinstall --pkgname=x265 --pkgversion="2:1.7-git" --bk --default --deldoc=yes --pakdir=$PACKAGES;
    ldconfig -v;;

    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
b1)                                       #########################################
                                          #               Remove X265             #
                                          #########################################


    clear
    echo "                    Removing X265 - Git"; sleep 4
    apt-get -y purge x265; rm -r /usr/local/src/x265; rm -r /usr/local/src/packages/x265*;;

    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
c)                                        #########################################
                                          #                 FDK-AAC               #
                                          #########################################


    apt-get -y remove fdk-aac
    clear
    echo "                    Installing Fdk-aac - Git"; sleep 4
    cd /usr/local/src
    rm -Rf fdk-aac
    cp -Rf /home/`logname`/sifinstallrepo/fdk-aac /usr/local/src/; cd fdk-aac;  
    ./autogen.sh
    ./configure --enable-shared --enable-static
    make -j4
    checkinstall --pkgname=fdk-aac --pkgversion="0.1.x-git" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES;;

    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
c1)                                       #########################################
                                          #               Remove FDK-AAC          #
                                          #########################################


    clear
    echo "                    Removing Fdk-aac - Git"; sleep 4
    apt-get -y purge fdk-aac; rm -r /usr/local/src/fdk-aac; rm -r /usr/local/src/packages/fdk-aac*;;

    

    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
d)                                        #########################################
                                          #       NVIDIA Video Codec 6.1 SDK      #
                                          #########################################    
    
    clear
    echo "                    Installing NVIDIA Video Codec 6.1 SDK"; sleep 4
    apt-get -y install unzip libxmu-dev freeglut3 freeglut3-dev; clear;
    cd /usr/local/src
    rm -R nvidia_sdk
    cp /home/`logname`/sifinstallrepo/nvidia_video_sdk_6.0.1.zip /usr/local/src/;
    unzip nvidia_video_sdk_6.0.1.zip; mv nvidia_video_sdk_6.0.1 nvidia_sdk;
    rm -r nvidia_video_sdk_6.0.1.zip; cd nvidia_sdk; cp Samples/common/inc/*.h /usr/local/include/; cd Samples;
    ./configure --enable-pic --enable-shared --enable-runtime_cpu_detect
    make -j4;;
    #checkinstall --pkgname=nvidia-video-codec-sdk --pkgversion="6.1-sdk" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES;;    
    
    
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
d1)                                       ##########################################
                                          #   Remove NVIDIA Video Codec 6.1 SDK    #
                                          ##########################################


    clear
    echo "                    Removing NVIDIA Video Codec 6.1 SDK"; sleep 4
    rm -r /usr/local/src/nvidia_sdk;;




#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
e)                                        #########################################
                                          #              LIBVPX 1.6.1             #
                                          #########################################


    apt-get -y remove libvpx
    clear
    apt-get update
    ### Aggiunto Supporto per Linux Mint 16 Mate ###
    apt-get -y install build-essential checkinstall git libfaac-dev libgpac-dev libjack-jackd2-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev librtmp-dev libsdl1.2-dev
    #apt-get -y remove libvdpau1 libvdpau-dev;     apt-get -y auto-remove libvdpau1 libvdpau-dev;
    #apt-get -y install libvdpau1 libvdpau-dev
    apt-get -y install libtheora-dev libva-dev libvorbis-dev libx11-dev libxfixes-dev pkg-config texi2html yasm zlib1g-dev
    apt-get -y install mercurial cvs subversion git-core libncurses-dev autoconf autopoint libtool automake  gettext nasm liba52-0.7.4-dev libpng12-dev libxt-dev libxv-dev libxvmc-dev libasound2-dev libmpcdec-dev libxvidcore-dev
    clear
    echo "                    Installing Libvpx "; sleep 4
    cd /usr/local/src; rm -R libvpx; cp -rf /home/`logname`/sifinstallrepo/libvpx /usr/local/src/;
    cd libvpx
    ./configure --enable-pic --enable-shared --enable-runtime_cpu_detect
    make -j4
    checkinstall --pkgname=libvpx --pkgversion="1.6.0-git" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES;;




#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
e1)                                       #########################################
                                          #            Remove LIBVPX              #
                                          #########################################


    clear
    echo "                    Removing Libvpx "; sleep 4
    apt-get -y purge libvpx; rm -r /usr/local/src/libvpx; rm -r /usr/local/src/packages/libvpx*;;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           # 
f)                                        #################################################
                                          #               FFmpeg  (Git Version)           #        
                                          #################################################


    apt-get -y remove ffmpeg
    clear
    apt-get update
    ### Aggiunto Supporto per Linux Mint 16 Mate ###
    apt-get -y install build-essential checkinstall git libfaac-dev libgpac-dev libjack-jackd2-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev librtmp-dev libsdl1.2-dev
    apt-get -y install libtheora-dev
    #apt-get -y remove libvdpau1 libvdpau-dev;     apt-get -y auto-remove libvdpau1 libvdpau-dev;
    apt-get -y install libtheora-dev libva-dev libvdpau-dev libvorbis-dev libx11-dev libxfixes-dev pkg-config texi2html yasm zlib1g-dev
    apt-get -y install mercurial cvs subversion git-core libncurses-dev autoconf autopoint libtool automake  gettext nasm liba52-0.7.4-dev libpng12-dev libxt-dev libxv-dev libxvmc-dev libasound2-dev libmpcdec-dev libxvidcore-dev
    apt-get -y install libxcb-xv0-dev libxcb-image0-dev libxcb-util0-dev libxcb-icccm4-dev libxcb-keysyms1-dev
    apt-get -y install libxcb-dpms0-dev libxcb-glx0-dev libxcb-randr0-dev libxcb-screensaver0-dev
    clear
    apt-get -y install libopus-dev libass-dev libspeex-dev libmp3lame-dev libfaac-dev librtmp-dev libopencore-amrnb-dev libopencore-amrwb-dev libiso9660-dev libvcdinfo-dev libjpeg-dev
    clear
    apt-get -y install libass-dev libspeex-dev libmp3lame-dev libfaac-dev librtmp-dev libopencore-amrnb-dev libopencore-amrwb-dev  libiso9660-dev libvcdinfo-dev libjpeg-dev
    apt-get -y install libvorbis-dev libxvidcore-dev
    clear
    dialog --title "   ** Installing FFmpeg 3.2.4 **   " --infobox "
   ----------------------------------------------------
   
   [a]  Install FFmpeg with X264 MPEG-4 AVC Encoder support
   
   [b]  Install FFmpeg with X264 & X265 HEVC Encoder support 
  
      
   ----------------------------------------------------" 0 0    
    echo -n "        Enter your menu choice  [a-b]:      "
    read yourch
    case $yourch in

    a) clear
    echo "                    Wait for a few seconds ...";
    cd /usr/local/src;
    rm -R ffmpeg
    cp -r /home/`logname`/sifinstallrepo/ffmpeg /usr/local/src/; cd ffmpeg
    ./configure  --extra-libs="-ldl" --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-nonfree --enable-nvenc --enable-libxvid --enable-libxcb --enable-vdpau --enable-vaapi --enable-pic --enable-shared --disable-doc
    echo "                    Press Enter to continue ...               "; read enterKey;
    make -j4
    checkinstall --pkgname=ffmpeg --pkgversion="3.3.x-git" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES
    hash -r
    ldconfig -v
    echo "                    Press Enter to continue ...               "; read enterKey;;

    b) clear
    echo "                    Wait for a few seconds ...";
    cd /usr/local/src;
    rm -R ffmpeg
    cp -r /home/`logname`/sifinstallrepo/ffmpeg /usr/local/src/; cd ffmpeg 
    ./configure  --extra-libs="-ldl" --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libxcb --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-nonfree --enable-nvenc --enable-libxvid --enable-vdpau --enable-vaapi --enable-pic --enable-shared --disable-doc
    echo "                    Press Enter to continue ...               "; read enterKey;
    make -j4
    checkinstall --pkgname=ffmpeg --pkgversion="3.3.x-git" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES
    hash -r
    ldconfig -v;;
    esac
    ;;

# --enable-x11grab 

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
f1)                                       ####################################################
                                          #                Remove FFmpeg (Git Version)       #
                                          ####################################################


    clear
    echo "                    Removing FFmpeg "; sleep 4
    apt-get -y purge ffmpeg; rm -r /usr/local/src/ffmpeg; rm /usr/local/src/packages/ffmpeg*;; 
    #esac
    #echo "                    Press Enter to continue ...               "; read enterKey;;




#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #

z) ;;
    esac
    echo "                    Press Enter to continue ...               "; read enterKey;;

    
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
3)                                        ##########################################################
                                          #  Submenu -         VDR - Plugins                       #
                                          ##########################################################
                  
    clear        
    dialog --title "   ** Installazione VDR - Plugins   **   " --infobox "
   ---------------------------------------------------------------------------------------------
        
        *****  Install  *****  .....................  *****  Remove  *****
   
        [a]    Install VDR-2.3.x & Basic plugins ..............  [a1]    Remove VDR-2.3.x & Basic plugins
        [b]    Prima Configurazione VDR  ..............  [b1]    Rimozione Configurazione VDR
        
        [z]    Skip
   
   --------------------------------------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a-b] ~~ Remove [a1-b1] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                                                                                                          
a)                                        #########################################
                                          #        VDR-2.3.7 & Basic plugins      #
                                          #########################################


    clear
    echo "vdr ALL=(ALL) ALL" >> /etc/sudoers; 
    echo "*** Install libraries ***"; sleep 4 
    cd $SRC; apt-get -y install build-essential checkinstall libfreetype6-dev libfontconfig1-dev libjpeg62-dev libcap-dev libfribidi-dev libncurses5-dev libncursesw5-dev git-core gettext
    apt-get -y install libx11-xcb-dev libxcb-dpms0-dev libxcb-glx0-dev libxcb-randr0-dev libxcb-screensaver0-dev libxcb-xv0-dev libxcb-image0-dev libxcb-util0-dev libxcb-icccm4-dev libxcb-keysyms1-dev
    apt-get -y install libpcre++0v5 libpcre++0 libpcre++-dev python-libxml2 python-libxslt1 python-pycurl python-simplejson mimms libxml2-dev python-all-dev python-central cdbs libglib2.0-dev debhelper txt2man
    apt-get -y install libcurl3 libcurl4-gnutls-dev cvs libxcb-icccm4 libx11-xcb-dev  libxcb-ewmh-dev 
    apt-get -y install libpcre++0v5
    clear    
    echo "               Installing VDR 2.3.7      "; sleep 4 
    cp -rf /home/`logname`/sifinstallrepo/$VDR.tar.bz2 $SRC/; tar xivf $VDR.tar.bz2;
    ln -s $VDR vdr; rm -r $VDR.tar.bz2
    cd vdr; cp -rf /home/`logname`/sifinstallrepo/vdr-patches.2.3.7.tar.gz $SRC/vdr/; tar -zxvf vdr-patches.2.3.7.tar.gz; rm -r vdr-patches.2.3.7.tar.gz; sleep 1;
echo "*** zapcockpit ***"
    patch -p1 < 02_vdr_zapcockpit.patch; sleep 1;
echo "*** getbitmap ***"
    patch -p1 < 03_vdr_getbitmap.patch; sleep 3;
echo "*** menuselection ***"
    patch -p1 < 04_vdr_menuselection.patch; sleep 1;
echo "*** editrecording ***"
    patch -p1 < 05_vdr_editrecording.patch; sleep 1;
echo "*** avcdescriptor ***"
    patch -p1 < 06_vdr_avcdescriptor.patch; sleep 1;
echo "*** epgsearch ***"
    patch -p1 < 10_vdr_epgsearch_exttimeredit_vdr-2.3.5.patch; sleep 1;
echo "*** pin ***"
    patch -p1 < 12_vdr_pin.patch; sleep 1;
echo "*** mainmenuhooks ***"
    patch -p1 < 15_vdr_mainmenuhooks_vdr234.patch; sleep 1;
echo "*** config ***"
    patch -p1 < 20_vdr_config.patch; sleep 1;
echo "*** svdrphosts ***"
    patch -p1 < 22_vdr_svdrphosts.patch; sleep 1;
echo "*** maxdevice ***"
    patch -p1 < 23_vdr_maxdevice.patch; sleep 1;
echo "*** dvb_power_saving ***"
    patch -p1 < 24_vdr_dvb_power_saving_feature.patch; sleep 1;
echo "*** dvbchan ***"
    patch -p1 < vdr-2.3.5-dvbchan.patch
echo "*** ci_debug ***"
    patch -p1 < 99_vdr_ci_debug.patch; sleep 1;
echo "*** menuorg ***"
    patch -p1 < vdr-menuorg-2.3.x.diff; sleep 1;
####################################################
#echo "*** 84 ***"
#    patch -p1 < 84_reelchannels.patch; sleep 1;
#echo "*** doubleChannels ***"
#    patch -p1 < 91_doubleChannels.patch; sleep 1;
####################################################
echo "*** 99_yaepghd ***"
    patch -p1 < 99_yaepghd.patch; sleep 1;    
    rm -r *.patch; sleep 3;
    # 
    cp /home/`logname`/sifinstallrepo/Make.config.2.3.7 $SRC/vdr/; mv Make.config.2.3.7 Make.config; sleep 1;
    sed -i 's/|| DVB_API_VERSION_MINOR != 0//' dvbdevice.h
    #
    #
    make && make plugins
    exit_status_check;
    clear
    echo ""; echo "*** Final compilation ***"; echo ""
    cd /usr/local/src/vdr
    apt-get -y purge vdr
    checkinstall --fstrans=no --install=yes --pkgname=vdr --pkgversion "2.3.7-git" --pakdir=$PACKAGES --default
    rm -r /media/video; mkdir /media/video; mkdir -p /usr/local/lib/vdr/scripts;
    mkdir -p /etc/vdr/plugins; cp *.conf /etc/vdr; mkdir -p /usr/local/lib/vdr/plugins;
    clear    
    echo "*** keymacros.conf setup ***";
    rm -r /etc/vdr/keymacros.conf; cd $SRCVDR; cp -rf vdr /usr/local/bin/; touch /etc/vdr/keymacros.conf
    clear
    echo "# Remote control key macros for VDR
#
# Format:
#
# macrokey  key1 key2 key3...
# macrokey  @plugin key1 key2 key3...
#
# See man vdr(5)

Red       Recordings
Green     @tvguide
Yellow    Info
Blue      @tvguideng
Ok        Channels" >> /etc/vdr/keymacros.conf
#
/usr/local/bin/vdr --help; exit_status_check
#
###########################################################
#    Creazione cartella temp per plugin non tradotti      #
###########################################################
cd $SRC; mkdir -p traduzioni; cd traduzioni;
cp /home/`logname`/sifinstallrepo/traduzioni.tar.gz /$SRC/traduzioni/;
tar -zxvf traduzioni.tar.gz; rm -r traduzioni.tar.gz;
######################################################################
# Install Basic plugins
clear
echo "                        "
echo "                        "
echo "                        "
echo "Install Basic plugins  ( Dvbapi - Softhddevice - Epgsearch - Skindesigner - TvGuideng - Weatherforecast - Skinflatplus - TvGuide - Iptv - ExternalPlayer )"
echo "                 Press Enter to continue ...         "; read enterKey
cd $SRC;
mkdir -p /usr/local/lib/vdr/plugins; mkdir -p /usr/local/lib/vdr/scripts; mkdir -p /etc/vdr/plugins; mkdir -p /etc/vdr/themes; cd $PLUGINS; mkdir -p tvguide;
#
#
apt-get -y install graphicsmagick-libmagick-dev-compat; apt-get -y install imagemagick; apt-get -y install libmagick++-6.q16-dev; apt-get -y install git-core; apt-get -y install libjansson4 libjansson-dev;
apt-get -y install lm-sensors librsvg2-dev libxml2-dev libcairo2-dev; apt-get -y install vlc;
#
#
clear
echo ""; echo "               *** Dvbapi ***"; echo ""; sleep 3
cd $VDRSRC; 
cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-dvbapi /$VDRSRC/; mv vdr-plugin-dvbapi dvbapi; cd dvbapi; cp -rf /home/`logname`/sifinstallrepo/dvbapi.patch.tar.gz /$VDRSRC/dvbapi/; tar -zxvf dvbapi.patch.tar.gz; rm -r dvbapi.patch.tar.gz; patch -p1 < vdr-plugin-dvbapi-01_crosscompiling.patch; sleep 1;
cd ../../..; make plugins
#
#
clear
echo ""; echo "               *** Softhddevice ***"; echo ""; sleep 3
cd $VDRSRC; 
cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-softhddevice /$VDRSRC/; mv vdr-plugin-softhddevice softhddevice; cd softhddevice; cp -rf /home/`logname`/sifinstallrepo/patch_softhddevice_4.tar.gz /$VDRSRC/softhddevice; tar -zxvf patch_softhddevice_4.tar.gz; rm -r patch_softhddevice_4.tar.gz; patch -p1 < 03_LanguageIT.patch; patch -p1 < 10_softhddevice_trusty.patch; patch -p1 < 11_softhddevice_Makefile.patch; patch -p1 < 15_fsigned_char.patch.bpi; make ALSA=1 OSS=0 VDPAU=1 VAAPI=0 SCREENSAVER=0 SWRESAMPLE=1; make install;
#
#
clear
echo ""; echo "               *** Epgsearch ***"; echo ""; sleep 3
cd $VDRSRC;
cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-epgsearch /$VDRSRC/; mv vdr-plugin-epgsearch epgsearch; cd epgsearch; cp -rf /home/`logname`/sifinstallrepo/patch_epgsearch.tar.gz /$VDRSRC/epgsearch/; tar -zxvf patch_epgsearch.tar.gz; rm -r patch_epgsearch.tar.gz; patch -p1 < 10_langinfo-include.diff; sleep 1; patch -p1 < 10_epgsearch_Makefile.patch; sleep 1; patch -p1 < 11_epgsearch_menue.patch; sleep 1; patch -p1 < 12_epgsearch_README.patch; sleep 1;  cd ../../..; make plugins; 
#patch -p1 < 13_epgsearch_blacklist.patch
#
clear
echo ""; echo "               *** Skindesigner ***"; echo ""; sleep 3
cd $VDRSRC; 
cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-skindesigner /$VDRSRC/ && mv vdr-plugin-skindesigner skindesigner && cp -rf /$SRC/traduzioni/metrixhd/*.xml /$VDRSRC/skindesigner/skins/metrixhd/ && cd skindesigner && make install && cd /usr/local/lib/vdr/plugins/skindesigner/scripts/ && ln -s temperatures.default temperatures && ln -s vdrstats.default vdrstats; 
#
clear
echo ""; echo "               *** TvGuideng ***"; echo ""; sleep 3
cd $VDRSRC; cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-tvguideng /$VDRSRC; mv vdr-plugin-tvguideng tvguideng; cd tvguideng; cp -rf /home/`logname`/sifinstallrepo/patch_tvguideng.tar.gz /$VDRSRC/tvguideng/; tar -zxvf patch_tvguideng.tar.gz; rm -r patch_tvguideng.tar.gz; patch -p1 < tvguideng_235.diff; cp -rf /$SRC/traduzioni/tvguideng_it_IT.po /$VDRSRC/tvguideng/po/; cd po/; mv tvguideng_it_IT.po it_IT.po; cd ../../../..; make plugins;
#
#
clear
echo ""; echo "               *** Weatherforecast ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-weatherforecast /$VDRSRC; mv vdr-plugin-weatherforecast weatherforecast; cd weatherforecast; cp -rf /home/`logname`/sifinstallrepo/patch_weatherforecast.tar.gz /$VDRSRC/weatherforecast/; tar -zxvf patch_weatherforecast.tar.gz; rm -rf patch_weatherforecast.tar.gz; patch -p1 < 10_weatherforecast_debug.patch; sleep 1; patch -p1 < 11_weatherforecast_i18n-it.patch; cd ../../..; make plugins; 
#
#
clear
echo ""; echo "               *** Skin Flatplus ***"; echo ""; sleep 3
cd $VDRSRC;
cp -rf /home/`logname`/sifinstallrepo/skin-flatplus /$VDRSRC/ && cd skin-flatplus &&  cp -rf /home/`logname`/sifinstallrepo/patch_skinflatplus.tar.gz /$VDRSRC/skin-flatplus/ && tar -zxvf patch_skinflatplus.tar.gz && rm -rf patch_skinflatplus.tar.gz &&  patch -p1 < 10-skinflatplus_minmaxvdr235.diff && make install && cd /usr/local/lib/vdr/plugins/skinflatplus/widgets/temperatures/ && ln -s temperatures.default temperatures && cd ../system_information && ln -s system_information.ubuntu system_information  && cp -rf /home/`logname`/sifinstallrepo/flat_weather.tar.gz ../weather/ && cd ../weather && tar -zxvf flat_weather.tar.gz && rm -r flat_weather.tar.gz;
# qui sopra c'è da mettere le icone di menù mancanti che sono dentro le skin del Skin Flatplus traducendole e comprimendole
#
clear
echo ""; echo "               *** Tvguide ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-tvguide /$VDRSRC; mv vdr-plugin-tvguide tvguide; cd tvguide; cp -rf /home/`logname`/sifinstallrepo/patch_tvguide.tar.gz /$VDRSRC/tvguide/; tar -zxvf patch_tvguide.tar.gz; rm -r patch_tvguide.tar.gz; patch -p1 < 10_tvguide_lib_Magick.patch; patch -p1 < 11_tvguide_i18n-it.patch; patch -p1 < 12_tvguide_VDR235.patch; patch -p1 < 13_tvguide_comp_with_last_tvscraper.patch; make; cd ../../..; make plugins; cp -rf $VDRSRC/tvguide/themes/* /etc/vdr/themes/;
#  
#
echo ""; echo "               *** Iptv ***"; echo ""; sleep 3
cd $VDRSRC && cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-iptv /$VDRSRC && mv vdr-plugin-iptv iptv && cd iptv && cp -rf /home/`logname`/sifinstallrepo/patch_iptv.tar.gz /$VDRSRC/iptv && tar -zxvf patch_iptv.tar.gz && rm -r patch_iptv.tar.gz && patch -p1 < iptv.patch && make && cd ../../.. && make plugins && mkdir -p /etc/vdr/plugins/iptv/vlcinput && cp -rf /home/`logname`/sifinstallrepo/iptv_conf.tar.gz /$PLUGINS/iptv/vlcinput/ && cd $PLUGINS/iptv/vlcinput && tar -zxvf iptv_conf.tar.gz && rm -r iptv_conf.tar.gz 
#
#
clear
echo ""; echo "               *** Externalplayer ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/sifinstallrepo/vdr-plugin-externalplayer /$VDRSRC && mv vdr-plugin-externalplayer externalplayer && cp -rf /$SRC/traduzioni/external_it_IT.po /$VDRSRC/externalplayer/po/ && cd externalplayer/po/ && mv external_it_IT.po it_IT.po && cd ../../../.. && make plugins && cp -rf /home/`logname`/sifinstallrepo/externalplayer.conf.tar.gz /etc/vdr/plugins/ && cd /etc/vdr/plugins && tar -zxvf externalplayer.conf.tar.gz && rm -r externalplayer.conf.tar.gz;
clear
#
#
cd /usr/local/src/vdr; make plugins install;

    echo "                    Press Enter to continue ...               "; read enterKey;;
        
     
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a1)                                       #########################################
                                          #           Rimozione VDR-2.3.x         #
                                          #########################################


    clear
    echo "                    Removing VDR 2.3.x"; sleep 4
dpkg -r vdr; rm -rf /etc/vdr; rm -rf /usr/local/share/vdr; rm -rf /usr/local/lib/vdr; rm -rf /var/cache/vdr; cd $SRC; rm -r vdr vdr-*; cd packages; rm -r vdr*.deb; rm -r /usr/local/bin/vdrpoweroff; rm -r /usr/local/bin/vdrrun;  rm -rf /usr/local/bin/start-vdr-xine.sh; rm -rf /usr/local/bin/start-xinelib-vdr.sh; rm -rf /usr/local/share/vdr; rm -rf /usr/local/bin/start-softhddevice-vdr.sh; rm -rf /home/`logname`/Scrivania/Xinelib.desktop; rm -rf /home/`logname`/Scrivania/Vdr-Xine.desktop; rm -rf /home/`logname`/Scrivania/Vdr-Softhddevice.desktop; rm -r /usr/bin/mplayer.sh; rm -rf /home/`logname`/Scrivania/KillVdr.desktop; cd $PACKAGES; rm -rf vdr*.deb; rm -rf /usr/share/applications/Xinelib.desktop; rm -rf /usr/share/applications/Vdr-Xine.desktop; rm -rf /usr/share/applications/Vdr-Softhddevice.desktop; rm -rf /usr/share/applications/KillVdr.desktop;
    echo "                    Press Enter to continue ...               "; read enterKey;;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
b)                                        #########################################
                                          #          Configuring VDR-2.3.x        #
                                          #########################################


clear
echo "                    Configuring VDR 2.3.x"; sleep 3
clear
echo "                    Installing true type"; sleep 1
apt-get -y install lirc lirc-x liblircclient-dev;
if [ -d /usr/share/fonts/truetype/vdrsymbols ];
then echo " I font $Remind4"; sleep 3;
else cp -rf /home/`logname`/sifinstallrepo/vdrsymbols.tar.gz /usr/share/fonts/truetype/; cd /usr/share/fonts/truetype/; tar -zxvf vdrsymbols.tar.gz;
fc-cache -fv
fi;

#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################	
					  #         Installing Icone Vdr          #
                                          #########################################

clear
echo "                    Installing Vdr Icons"; sleep 1
cd $SRC; cp -rf /home/`logname`/sifinstallrepo/icone.tar.gz /usr/local/src/; tar -zxvf icone.tar.gz; rm -r icone.tar.gz;

#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################	
					  #     Creazione comando d'avvio Vdr     #
					  #########################################
							
clear
echo "                    Creazione comando d'avvio Vdr"; sleep 1
rm -rf /usr/local/bin/vdrrun; touch /usr/local/bin/vdrrun;

echo '#!/bin/bash

/usr/local/bin/vdr -c /etc/vdr -E /var/vdr -l 3 -u root '$PLUGIN' -s /usr/local/bin/vdrpoweroff ' >> /usr/local/bin/vdrrun && chmod a+x /usr/local/bin/vdrrun
	
#   Permessi per eseguire Vdr       
echo "%`logname` ALL=NOPASSWD: /etc/init.d/vdr" >> /etc/sudoers
#    Creazione /usr/local/bin/vdrpoweroff    
rm -rf /usr/local/bin/vdrpoweroff; touch /usr/local/bin/vdrpoweroff
echo '#!/bin/sh
#nome file : arresto di xine-vdr "vdrpoweroff"
killall -9 vdrrun & killall -9 vdr & killall -9 vdr-sxfe & killall -9 vlc 
# & killall -9 oscam & shutdown -h now '  >> /usr/local/bin/vdrpoweroff
# & shutdown -h now 
#
chmod 755 /usr/local/bin/vdrpoweroff
#
#  Creazione /etc/init.d/vdr           
rm -rf /etc/init.d/vdr; touch /etc/init.d/vdr 
echo '
#!/bin/sh
#
# To be copied to: /etc/init.d
# And type:
### BEGIN INIT INFO
# Provides:          VDR
# Required-Start:   
# Required-Stop:     
# Default-Start:     0 1 2 3 4 5 6
# Default-Stop:     
# Description:       Start, Stop or Restart VDR
### END INIT INFO

# Shell functions sourced from /etc/rc.status:
set -e

# Reset status of this service
# rc_reset
#
echo "Vdr init.d script using: $1" >> /var/log/vdr.log &
case "$1" in
    start)
        echo -n "Avvio VDR "
       /usr/local/bin/vdrrun >> /var/log/vdr.log &
        # Remember status and be verbose
        ;;
    stop)
        echo -n "Chiusura di VDR "
       killall vdrrun
       killall vdr
       killall vdr-sxfe
        # Remember status and be verbose
        ;;
    restart)
        echo -n "Riavvio di VDR "
        $0 stop
        $0 start

        # Remember status and be quiet
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
exit 0
' >> /etc/init.d/vdr
chmod 755 /etc/init.d/vdr

#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################
					  #             Monitor setup             #			
					  #########################################	

    clear
    dialog --title "   ** monitor setup **   " --infobox "
   ----------------------------------------------
                 Monitor setup             
   ----------------------------------------------          
	[a]  16:9	
	[b]  4:3   
          
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-b]:      "
    read yourch
    case $yourch in
    
a) cd /etc/vdr; rm -rf setup.conf; cp -rf /home/`logname`/sifinstallrepo/setup16.tar.gz /etc/vdr/; tar -zxvf setup16.tar.gz; rm -r setup16.tar.gz;;   
b) cd /etc/vdr; rm -rf setup.conf; cp -rf /home/`logname`/sifinstallrepo/setup43.tar.gz /etc/vdr/; tar -zxvf setup43.tar.gz; rm -r setup43.tar.gz;;    
esac
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                  Oscam Setup                   #
                                          ##################################################
                                          
cd /usr/local; mkdir -p etc;                                          
if [ -f /usr/local/etc/oscam.check ];
  then  echo "Oscam is already installed"
else
echo "oscam ALL=(ALL) ALL" >> /etc/sudoers; 
apt-get install libssl0.9.8 ; rm -r /etc/init.d/oscam; touch /etc/init.d/oscam; 

echo '
#!/bin/sh
#
# To be copied to: /etc/init.d
# And type:
### BEGIN INIT INFO
# Provides:          Oscam
# Required-Start:   
# Required-Stop:     
# Default-Start:     0 1 2 3 4 5 6
# Default-Stop:     
# Description:       Start, Stop or Restart Oscam
### END INIT INFO

# Shell functions sourced from /etc/rc.status:
set -e

# Reset status of this service
# rc_reset
#
echo "Vdr init.d script using: $1" >> /var/log/oscam.log &
case "$1" in
    start)
        echo -n "Avvio Oscam "
       /usr/local/bin/oscam >> /var/log/oscam.log &
        # Remember status and be verbose
        ;;
    stop)
        echo -n "Chiusura di Oscam "
       killall -9 oscam
        # Remember status and be verbose
        ;;
    restart)
        echo -n "Riavvio di Oscam "
        $0 stop
        $0 start

        # Remember status and be quiet
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
exit 0
' >> /etc/init.d/oscam; chmod 755 /etc/init.d/oscam; echo "%`logname` ALL=NOPASSWD: /etc/init.d/oscam" >> /etc/sudoers; cd $SRC; mkdir -p oscam; cd oscam; cp -rf /home/`logname`/sifinstallrepo/oscam.tar.gz /$SRC/oscam; tar -zxvf oscam.tar.gz; rm -rf oscam.tar.gz;
cp -rf * /usr/local/etc/;
fi
   
if uname -m  | grep "x86_64"; then
    echo "64bit detected"; cp -r /home/`logname`/sifinstallrepo/oscam64.tar.gz /usr/local/bin/; cd /usr/local/bin; tar -zxvf oscam64.tar.gz; rm -rf oscam64.tar.gz;
    else echo "32bit detected"
        cp -rf /home/`logname`/sifinstallrepo/oscam32.tar.gz /usr/local/bin/; cd /usr/local/bin; tar -zxvf oscam32.tar.gz; rm -rf oscam32.tar.gz;
fi
chmod 777 oscam;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #           Setup Vdr & Oscam icons              #
                                          ##################################################


					echo "               *** Setup icons  ***"; sleep 3
rm -r /home/`logname`/Scrivania/Vdr-Softhddevice.desktop; rm -rf /usr/share/applications/Vdr-Softhddevice.desktop;
if [ -s $VDRSRC/softhddevice ];
   then
 touch /home/`logname`/Scrivania/Vdr-Softhddevice.desktop;
 echo "[Desktop Entry]
 Version=1.0
 Encoding=UTF-8
 Type=Application
 Name=Vdr-Softhddevice
 Description=Start of Vdr-Softhddevice
 Icon=/usr/local/src/icone/softhddevice.png
 Exec=/usr/local/bin/start-softhddevice-vdr.sh
 ">> /home/`logname`/Scrivania/Vdr-Softhddevice.desktop;
 chmod 777 /home/`logname`/Scrivania/Vdr-Softhddevice.desktop; sudo chmod 777 /home/`logname`/Scrivania/Vdr-Softhddevice.desktop; cp /home/`logname`/Scrivania/Vdr-Softhddevice.desktop /usr/share/applications/Vdr-Softhddevice.desktop;
#
rm -r /usr/local/bin/start-softhddevice-vdr.sh;
touch /usr/local/bin/start-softhddevice-vdr.sh;
echo "#!/bin/sh

sudo /etc/init.d/vdr start" >> /usr/local/bin/start-softhddevice-vdr.sh;
chmod a+x /usr/local/bin/start-softhddevice-vdr.sh;
else echo " Softhddevice $remind5"
fi


#############################################################################################################################  
                                         
                                          
rm -rf /home/`logname`/Scrivania/KillVdr.desktop; rm -rf /usr/share/applications/KillVdr.desktop;
touch /home/`logname`/Scrivania/KillVdr.desktop; 
chmod 777 /home/`logname`/Scrivania/KillVdr.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=KillVdr
Description=Kill Vdr
Icon=/usr/local/src/icone/killvdr.png
Exec=/usr/local/bin/KillVdr.sh
" >> /home/`logname`/Scrivania/KillVdr.desktop; sudo chmod 777 /home/`logname`/Scrivania/KillVdr.desktop; cp /home/`logname`/Scrivania/KillVdr.desktop /usr/share/applications/KillVdr.desktop;
rm -rf /usr/local/bin/KillVdr.sh;
touch /usr/local/bin/KillVdr.sh;
echo '#!/bin/sh

# sudo killall -9 vdr & killall -9 vdr-sxfe
sudo /etc/init.d/vdr stop > /dev/null 2>&1
' >> /usr/local/bin/KillVdr.sh;
chmod a+x /usr/local/bin/KillVdr.sh;


#############################################################################################################################  
                                          
                                          
rm -rf /home/`logname`/Scrivania/Oscam.desktop; rm -rf /usr/share/applications/Oscam.desktop;
touch /home/`logname`/Scrivania/Oscam.desktop; echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=Oscam
Description=Start of Oscam
Icon=/usr/local/src/icone/Oscam.png
Exec=/usr/local/bin/start-oscam.sh
" >> /home/`logname`/Scrivania/Oscam.desktop; sudo chmod 777 /home/`logname`/Scrivania/Oscam.desktop; cp /home/`logname`/Scrivania/Oscam.desktop /usr/share/applications/Oscam.desktop;
rm -rf /usr/local/bin/start-oscam.sh; touch /usr/local/bin/start-oscam.sh; echo '#!/bin/sh 
sleep 10
sudo /etc/init.d/oscam start > /dev/null 2>&1
' >> /usr/local/bin/start-oscam.sh; chmod a+x /usr/local/bin/start-oscam.sh;


#############################################################################################################################  
                                         
                                          
rm -rf /home/`logname`/Scrivania/KillOscam.desktop; rm -rf /usr/share/applications/KillOscam.desktop;
touch /home/`logname`/Scrivania/KillOscam.desktop; 
chmod 777 /home/`logname`/Scrivania/KillOscam.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=KillOscam
Description=Kill Oscam
Icon=/usr/local/src/icone/killoscam.png
Exec=/usr/local/bin/KillOscam.sh
" >> /home/`logname`/Scrivania/KillOscam.desktop; sudo chmod 777 /home/`logname`/Scrivania/KillOscam.desktop; cp /home/`logname`/Scrivania/KillOscam.desktop /usr/share/applications/KillOscam.desktop;
rm -rf /usr/local/bin/KillOscam.sh;
touch /usr/local/bin/KillOscam.sh
echo '#!/bin/sh

sudo /etc/init.d/oscam stop > /dev/null 2>&1
' >> /usr/local/bin/KillOscam.sh;
chmod a+x /usr/local/bin/KillOscam.sh;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                  Diseqc setup                  #
                                          ##################################################
                                          
                                          
rm -r /etc/vdr/diseqc.conf;
rm -r /etc/vdr/channels.conf;
#echo "*** diseqc.conf setup ***"; sleep 3
    clear        
    dialog --title "   ** diseqc.conf setup **   " --infobox "
   ----------------------------------------------
                Diseqc setup             
   ----------------------------------------------
        [a]    Hot Bird 13°E                    
        [b]    Astra 19.2°E                    
        [c]    Dual 13, 19.2°E                  
        [d]    Trial 9, 13, 19.2°E              
        [e]    Trial 13, 16, 19°E               
        [f]    Quadri 13, 19, 23.5, 28.2°E      
        [g]    Quadri 9, 13, 16, 19°E           
        [h]    Terrestrial                  
        
        [z]    Skip                             
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      "
    read yourch
    case $yourch in
a) echo "$MONO13" >> /etc/vdr/diseqc.conf && cd /etc/vdr/ && wget http://www.vdr-italia.org/channels/17x/channels_tivusat_skyitalia_17x.conf && mv channels_tivusat_skyitalia_17x.conf channels.conf;;
b) echo "$MONO19" >> /etc/vdr/diseqc.conf && cp /home/`logname`/sifinstallrepo/channels.conf.astra.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.astra.tar.gz && rm -r channels.conf.astra.tar.gz;;
c) echo "$DUAL" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf && cp /home/`logname`/sifinstallrepo/channels.conf.dual.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.dual.tar.gz && rm -r channels.conf.dual.tar.gz;;
d) echo "$TRIAL" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf && cp /home/`logname`/sifinstallrepo/channels.conf.trial.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.trial.tar.gz && rm -r channels.conf.trial.tar.gz;;
e) echo "$TRIAL2 Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
f) echo "$QUADRI Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
g) echo "$QUADRI2 Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
h) cd /etc/vdr && cp -rf /home/`logname`/sifinstallrepo/channels.conf.terr.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.terr.tar.gz && rm -rf channels.conf.terr.tar.gz && mv channels.conf.terr channels.conf;;
esac


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #      Install default Skin for Vdr     #
                                          ##################################################
                                          
                                          

#wget https://www.dropbox.com/s/806odyj5vyco3dg/lcars_pack.tar.gz;
if [ -f /etc/vdr/themes/checklcars ];
then echo " Lcars theme is already installed"
else cp -rf /home/`logname`/sifinstallrepo/lcars_pack.tar.gz /etc/vdr/themes; cd /etc/vdr/themes; tar -zxvf lcars_pack.tar.gz; rm -r lcars_pack.tar.gz;
fi

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #               Install Channels logos           #
                                          ##################################################

                            
cd /etc/vdr/plugins/; mkdir -p picon;
#
if [ -f /etc/vdr/logos/2be.png ];
then echo " Logos are already installed"
else
cp -rf /home/`logname`/sifinstallrepo/logos.tar.gz /etc/vdr/; cd /etc/vdr/; tar -zxvf logos.tar.gz; rm -rf logos.tar.gz;
fi
sleep 1
ln -s /etc/vdr/plugins/picon liquid-logos4anthra_HD;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                   Setup remote                 # 
                                          ##################################################
                                          

clear        
    dialog --title "   ** Setup remote **   " --infobox "
   ----------------------------------------------
                Setup remote             
   ----------------------------------------------
        [a]    Mce                   
        [b]    Hauppauge                   
        [c]    Skip                             
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-c]:      "
    read yourch
    case $yourch in
a) cd /etc/vdr; cp -rf /home/`logname`/sifinstallrepo/mce-remote.conf.tar.gz /etc/vdr/; tar -zxvf mce-remote.conf.tar.gz; rm -r mce-remote.conf.tar.gz;;
b) cd /etc/vdr; cp -rf /home/`logname`/sifinstallrepo/hauppauge-remote.conf.tar.gz /etc/vdr/;tar -zxvf hauppauge-remote.conf.tar.gz; rm -rf hauppauge-remote.conf.tar.gz;;

esac

# Avvio vdr
killall -9 vdr
#
sudo /usr/local/bin/start-softhddevice-vdr.sh
;;    
esac
;; 
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
4)                                        #########################################
                                          #     Install && Upgrade Settings       #
                                          #########################################


#echo "               *** Install W_scan ***"; sleep 3
cd /usr/local/src; 
# wget http://wirbel.htpc-forum.de/w_scan/w_scan-20141122.tar.bz2;
if [ -f /$SRC/w_scan/Makefile ];
  then  echo "W_scan is already installed"
else
cp -rf /home/`logname`/sifinstallrepo/w_scan-20170107.tar.bz2 $SRC/; tar xivf w_scan-20170107.tar.bz2; mv w_scan-20170107 w_scan; rm -rf w_scan-20170107.tar.bz2; cd w_scan; cp -rf /home/`logname`/sifinstallrepo/patch_w_scan.tar.gz $SRC/w_scan/; tar -zxvf patch_w_scan.tar.gz; rm -rf patch_w_scan.tar.gz; patch -p1 < 10_w-scan_dvb-t2.patch; ./configure; make; make install;
fi

    clear        
    dialog --title "   ** Install && Upgrade Settings **   " --infobox "
   --------------------------------------------------------------
                     Creazione lista canali
   --------------------------------------------------------------
   
        ****   Vdr-Getchannels 0.7.0 (Old)   ****
        [a]    Install Settings from Kingofsat  9.0E 
        [b]    Install Settings from Kingofsat 13.0E         
        [c]    Install Settings from Kingofsat 19.2E 
                
        
        ****  Sezione W_Scan  ****
        [d]    Install Settings 9.0E - using W_scan                   
        [e]    Install Settings 13.0E - using W_scan              
        [f]    Install Settings 19.2E - using W_scan             
        [g]    Install Terrestrial Settings - using W_scan

        [h]    Download from repo (only trial 9 - 13 -19.2E) 
        

            
        [z]    Skip 
        
   -------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      "
    read yourch
    case $yourch in
    
    ###
    a) apt-get -y install unzip; clear; 
    cd $SRC; rm -rf setting; rm -rf getchannels; mkdir setting; cd setting; mkdir e2setting;
    cp -r /home/`logname`/sifinstallrepo/getchannels.tar.gz $SRC/setting; tar -zxvf getchannels.tar.gz; #rm -r getchannels.tar.gz; 
    cd $SRC/setting/getchannels && python getchannels.py  --list 09.0E --output output/channels09.conf; sleep  4; cp $SRC/setting/getchannels/output/channels09.conf /etc/vdr/;;


    b) apt-get -y install unzip; clear; 
    cd $SRC; rm -rf setting; rm -rf getchannels; mkdir setting; cd setting; mkdir e2setting;
    cp -r /home/`logname`/sifinstallrepo/getchannels.tar.gz $SRC/setting; tar -zxvf getchannels.tar.gz; #rm -r getchannels.tar.gz; 
    cd $SRC/setting/getchannels && python getchannels.py  --list 13.0E --output output/channels13.conf; sleep  4; cp $SRC/setting/getchannels/output/channels13.conf /etc/vdr/;;

    c) apt-get -y install unzip; clear; 
    cd $SRC; rm -rf setting; rm -rf getchannels; mkdir setting; cd setting; mkdir e2setting;
    cp -r /home/`logname`/sifinstallrepo/getchannels.tar.gz $SRC/setting; tar -zxvf getchannels.tar.gz; #rm -r getchannels.tar.gz; 
    cd $SRC/setting/getchannels && python getchannels.py  --list 19.2E --output output/channels19.conf; sleep  4; cp $SRC/setting/getchannels/output/channels19.conf /etc/vdr/;;
  
    ##### Sezione W_Scan #####
    d) rm -r /etc/vdr/channels-w_scan-9E0.conf; w_scan -fs -s S9E0 -D0c -o2 >> /etc/vdr/channels-w_scan-9E0.conf;; 
    e) rm -r /etc/vdr/channels-w_scan-13E0.conf; w_scan -fs -s S13E0 -D1c -o2 >> /etc/vdr/channels-w_scan-13E0.conf;;
    f) rm -r /etc/vdr/channels-w_scan-19E2.conf; w_scan -fs -s S19E2 -D2c -o2 >> /etc/vdr/channels-w_scan-19E2.conf;;
    g) rm -r /etc/vdr/channels-dtt.conf; w_scan -ft -c IT >> /etc/vdr/channels-dtt.conf;;

    h) cp -rf /home/`logname`/sifinstallrepo/channels.conf.trial.tar.gz /etc/vdr/;;
    
   ###
    
    z) ;;
    esac
    ;;
   

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                                                                                                       ##
#                                                                                                                           #
5)                                        ##########################################################
                                          #                      Submenu - KODI                    #
                                          ##########################################################
                  
    clear        
    dialog --title "   ** Install & Setup KODI **   " --infobox "
   --------------------------------------------------------------
                         Install/Remove Kodi
   --------------------------------------------------------------
        
        *****  Install  *****  ..........  *****  Remove  *****
        [a]    Install  ............  [a1]    Remove KODI  
        
        [z]    Skip
      
                   
   -------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a] ~~ Remove [a1] ~~ Exit [z]:      "
    read yourch
    case $yourch in

a)
rm -rf /home/`logname`/Scrivania/Kodi.desktop; rm -rf /usr/share/applications/Kodi.desktop;
touch /home/`logname`/Scrivania/Kodi.desktop; 
chmod 777 /home/`logname`/Scrivania/Kodi.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=Kodi
Description=Start of Kodi
Icon=/usr/local/src/icone/kodi.png
Exec=/usr/local/bin/start-kodi-vdr.sh
" >> /home/`logname`/Scrivania/Kodi.desktop; cp /home/`logname`/Scrivania/Kodi.desktop /usr/share/applications/Kodi.desktop;
rm -rf /usr/local/bin/start-kodi-vdr.sh;
touch /usr/local/bin/start-kodi-vdr.sh
echo '#!/bin/sh

/bin/sleep 2
kodi 
' >> /usr/local/bin/start-kodi-vdr.sh; 
chmod a+x /usr/local/bin/start-kodi-vdr.sh;
apt-get -y install python-software-properties pkg-config; apt-get -y install software-properties-common




#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##########################################################
                                          #                      Install  KODI                     #
                                          ##########################################################
     
    clear
    dialog --title "   ** KODI **   " --infobox "
   ----------------------------------------------
                KODI versions
   ----------------------------------------------
        [a]    Kodi Stable version 
        [b]    Kodi Release Candidate version                                
        [c]    Kodi Development version             
                                     
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-c]:      "
    read yourch
    case $yourch in

a)   sudo add-apt-repository ppa:team-xbmc/ppa; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
b)   sudo add-apt-repository ppa:team-xbmc/unstable; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
c)   sudo add-apt-repository ppa:team-xbmc/xbmc-nightly; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
 esac    
     echo "                    Press Enter to continue ...               "; read enterKey;;

 
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a1)                                       #########################################
                                          #               Remove KODI             #
                                          #########################################


    clear
    echo "                    Remove KODI"; sleep 4
    apt-get remove kodi*; apt-get purge kodi*; rm -rf ~/.kodi/; sudo add-apt-repository --remove ppa:team-xbmc/xbmc-nightly; sudo add-apt-repository --remove ppa:team-xbmc/ppa; sudo add-apt-repository --remove ppa:team-xbmc/unstable; rm -rf /home/`logname`/Scrivania/Kodi.desktop; rm -rf /usr/share/applications/Kodi.desktop;;
    esac
;;

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
6)                                        #########################################
                                          #                Utility                #
                                          #########################################


    clear        
    dialog --title "   ** Utility **   " --infobox "
   ----------------------------------------------
                Utility
   ----------------------------------------------

        [a]    Change Vdrrun               
        [b]    Change channell list            
        [c]    Change setup.conf    
        [d]    Change oscam              
        [e]    Reconfigure lirc                        
        [f]    Nautilus  
        
        [z]    Skip    
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      " 
    read yourch
    case $yourch in

a) gedit /usr/local/bin/vdrrun;;
b) gedit /etc/vdr/channels.conf;;
c) gedit /etc/vdr/setup.conf;;
d) if [ -f /usr/local/etc/oscam.server ];
then gedit /usr/local/etc/oscam.server; gedit /usr/local/etc/oscam.conf; gedit /usr/local/etc/oscam.user;
else echo "Oscam is not installed"
fi;;
e) dpkg-reconfigure lirc;;
f) nautilus;;
z) ;;
esac
;;

   
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
7)                                        #########################################
                                          #                Exit/Stop              #
                                          #########################################


    clear
    echo ""
    echo ""
    echo ""
    echo ""
    echo "                                                       .-----,        ,.----."
    echo "                                                .-----'       '------'       ',"
    echo "                                              ,'  First ed. by mona66 ® 2010   ',"
    echo "                                              '     Updated and Revision        '"
    echo "                                              ',  by fiveten_59 ® and knap ®    ,'"
    echo "                                              ,'   2013 ~ 2014 ~ 2015 ~ 2016      ',"
    echo "                                             '           Light version           '"
    echo "                                              ',        by fiveten_59 ®         '"
    echo "                                              ',               2017           ,'"
    echo "                                                '----,      ,----,       ,----'"
    echo "                                                      '----'      '-----'"
    echo "                                                                O"
    echo "                                                                 o "
    echo "                                                                  o  "
    echo "                                                                   °"
    echo "                                                                    °"
    echo "                                                                .88888888:.          "
    echo "                                                              88888888.88888.          "
    echo "                                                            .8888888888888888.          "
    echo "                                                            888888888888888888          "
    echo "                                                            88'..'888'..'88888          "
    echo "                                                            88'  '888'  '88888          "
    echo "                                                            88'..':::'..':8888          "
    echo "                                                            88:::,::,:::::8888          "
    echo "                                                            88':::::::::''8888          "
    echo "                                                           .88  '::::'    8:88.          "
    echo "                                                          8888            '8:888.          "
    echo "                                                        .8888'             '888888.          "
    echo "                                                       .8888:..  .::.  ...:'8888888:.          "
    echo "                                                      .8888.'     :'     ''::'88:88888          "
    echo "                                                     .8888        '         '.888:8888.          "
    echo "                                                    888:8         .           888:88888          "
    echo "                                                  .888:88        .:           888:88888:          "
    echo "                                                  8888888.       ::           88:888888          "
    echo "                                                  '.::.888.      ::          .88888888          "
    echo "                                                 .::::::.888.    ::         :::'8888'.:.          "
    echo "                                                ::::::::::.888   '         .::::::::::::          "
    echo "                                                ::::::::::::.8    '      .:8::::::::::::.          "
    echo "                                              .::::::::::::::.        .:888:::::::::::::          "
    echo "                                              :::::::::::::::88:.__..:88888:::::::::::'          "
    echo "                                               ''.:::::::::::88888888888.88:::::::::'          "
    echo "                                                     '':::_:' -- '' -'-' '':_::::''          "
    echo ""
    echo "                                                     Grazie a tutti e buon divertimento"
    echo "                                                               Have fun :-)"
    echo ""
    exit 0

;;
*) ;;
esac
done
