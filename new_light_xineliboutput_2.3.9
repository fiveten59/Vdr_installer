#!/bin/bash
################################## !!! README !!! #######################################
#                                                                                       #
# Script name: new_light_xineliboutput_2.3.9                                            #
# Version: Github Repository Master (https://github.com/fiveten59/Vdr_installer)        #
#                                                                                       #
# chmod the script                                                                      #
# then load it simply typing: sudo ./new_light_xineliboutput_2.3.9                      #
#                                                                                       #
#########################################################################################
#
PLUGIN="--lirc -P'xineliboutput -l none -r 37890 -p' -P'dvbapi' -P'weatherforecast' -P'iptv' -P'tvguide' -P'epgsearch' -P'externalplayer' -P'channelscan'"
Xinelib='sudo /etc/init.d/vdr start > /dev/null 2>&1; while ! netcat -z localhost 37890; do sleep 2; vdr-sxfe --video=vdpau --hud --audio=alsa --aspect=16:9 --width=1920 --height=1080 --fullscreen --daemon --reconnect --post=tvtime:method=Linear,cheap_mode=1,pulldown=0,use_progressive_frame_flag=1 --buffers=850; done;'
# -P'skindesigner -l /etc/vdr/logos/ -i /usr/local/share/vdr/plugins/skindesigner/skins/' -P'skinflatplus -l /etc/vdr/logos/' -P'tvguideng' 
ETC='/usr/local/etc'
SRC='/usr/local/src'
SRCVDR='/usr/local/src/vdr-2.3.9'
VDRSRC=''$SRC'/vdr/PLUGINS/src'
LIB='/usr/local/lib/vdr/plugins'
VDR='vdr-2.3.9'
PACKAGES="/usr/local/src/packages"
ARCHIVES="/usr/local/src/archives"
SCRIPTS="/usr/local/src/archives/scripts"
MANUALS="/usr/local/src/READ_THIS"
TEMP='/tmp'
SKINS='/usr/local/share/vdr/plugins/skindesigner/skins/'
SHARE='/usr/local/share/vdr/plugins'
PLUGINS='/etc/vdr/plugins'
Remind3='is already installed'
Remind4='are already installed'
Remind5='is not installed'
TIMESTAMP=`date +%Y%m%d.%R`
ALLOWED="#
# allowed_hosts.conf  This file describes a number of host addresses that
#                     are allowed to connect to the streamdev/vn****rver/xvdr/xinelioutput server running 
#                     with the Video Disk Recorder (VDR) on this system.
# Syntax:
#
# IP-Address[/Netmask]
#
127.0.0.1             # always accept localhost
192.168.1.0/24        # any host on the local net
192.168.0.0/24        # any host on the local net
#204.152.189.113      # a specific host
#0.0.0.0/0            # any host on any net (USE THIS WITH CARE!)
#
#
# If your network setup is correct pls don't touch
# exit with CTRL+X
#
# If your network setup is diiferent change it and
# Save it with CTRL+O and exit with CTRL+X "
#
MONO13="#
# Full DiSEqC sequence:
# 13E
S13.0E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S13.0E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S13.0E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T
#
"
MONO19="#
# Full DiSEqC sequence:
# 13E
S19.2E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S19.2E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S19.2E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S19.2E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T
#
"
DUAL="#
# Full DiSEqC sequence:
# 13 - 19.2E
S13.0E 11700 V  9750  t v W15 [E0 10 38 F0] W15 A W15 t
S13.0E 99999 V 10600  t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E 11700 H  9750  t V W15 [E0 10 38 F2] W15 A W15 t
S13.0E 99999 H 10600  t V W15 [E0 10 38 F3] W15 A W15 T

S19.2E  11700 V  9750  t v W15 [E0 10 38 F4] W15 B W15 t
S19.2E  99999 V 10600  t v W15 [E0 10 38 F5] W15 B W15 T
S19.2E  11700 H  9750  t V W15 [E0 10 38 F6] W15 B W15 t
S19.2E  99999 H 10600  t V W15 [E0 10 38 F7] W15 B W15 T
#
"
TRIAL="# Full DiSEqC sequence:
# 9 - 13 - 19.2E
S9E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S9E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S9E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S9E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S13.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S13.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S13.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S13.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S19.2E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S19.2E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T
#
"
TRIAL2="# Full DiSEqC sequence:
# 13 - 16 - 19.2E
S13.0E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S13.0E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S13.0E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S16.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S16.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S16.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S16.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S19.2E 11700 V 9750 t v W15 [E0 10 38 F8] W15 A W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S19.2E 11700 H 9750 t V W15 [E0 10 38 FA] W15 A W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T
#
"
QUADRI="# Full DiSEqC sequence:
# 13 - 19 - 23.5 - 28.2°E
S13.0E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S13.0E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S13.0E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S13.0E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S19.2E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S19.2E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S19.2E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S19.2E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S23.5E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S23.5E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S23.5E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S23.5E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T

S28.2E  11700 V  9750  t v W15 [E0 10 38 FC] W15 B W15 t
S28.2E  99999 V 10600  t v W15 [E0 10 38 FD] W15 B W15 T
S28.2E  11700 H  9750  t V W15 [E0 10 38 FE] W15 B W15 t
S28.2E  99999 H 10600  t V W15 [E0 10 38 FF] W15 B W15 T
#
"
QUADRI2="# Full DiSEqC sequence:
# 13 - 19 - 23.5 - 28.2°E
S9E  11700 V  9750 t v W15 [E0 10 38 F0] W15 A W15 T
S9E  99999 V 10600 t v W15 [E0 10 38 F1] W15 A W15 T
S9E  11700 H  9750 t V W15 [E0 10 38 F2] W15 A W15 T
S9E  99999 H 10600 t V W15 [E0 10 38 F3] W15 A W15 T

S13.0E 11700 V  9750 t v W15 [E0 10 38 F4] W15 B W15 t
S13.0E 99999 V 10600 t v W15 [E0 10 38 F5] W15 B W15 T
S13.0E 11700 H  9750 t V W15 [E0 10 38 F6] W15 B W15 t
S13.0E 99999 H 10600 t V W15 [E0 10 38 F7] W15 B W15 T

S16.0E 11700 V  9750 t v W15 [E0 10 38 F8] W15 A W15 t
S16.0E 99999 V 10600 t v W15 [E0 10 38 F9] W15 A W15 T
S16.0E 11700 H  9750 t V W15 [E0 10 38 FA] W15 A W15 t
S16.0E 99999 H 10600 t V W15 [E0 10 38 FB] W15 A W15 T

S19.2E  11700 V  9750  t v W15 [E0 10 38 FC] W15 B W15 t
S19.2E  99999 V 10600  t v W15 [E0 10 38 FD] W15 B W15 T
S19.2E  11700 H  9750  t V W15 [E0 10 38 FE] W15 B W15 t
S19.2E  99999 H 10600  t V W15 [E0 10 38 FF] W15 B W15 T
#
"
#
    apt-get -y install dialog autoconf automake build-essential cmake git libass-dev libfreetype6-dev libsdl2-dev libtheora-dev libtool libva-dev libvdpau-dev;
    apt-get -y install libvorbis-dev libxcb1-dev libxcb-shm0-dev libxcb-xfixes0-dev mercurial pkg-config texinfo wget zlib1g zlib1g-dev checkinstall cvs libogg0 yasm;
    #
    exit_status_check()
    {
    if [ $? -ne 0 ]; then
    echo "Install did not run successfully";
    echo "                    Press Enter to continue ...               "; read enterKey; exit 1
   else
   echo "Install successful"
    fi   
    }

    press_enter()
    {
     echo "                    Press Enter to continue ...               "; read enterKey; exit 0
    }

    timer_start()
    {
    BEGIN=$(date +%s)
    }


    timer_stop()
    {
    NOW=$(date +%s)
    let DIFF=$(($NOW - $BEGIN))
    let MINS=$(($DIFF / 60))
    let SECS=$(($DIFF % 60))
    echo Time elapsed: $MINS:`printf %02d $SECS` >> $LOGFILE
    }

    line()
    {
    echo "-----------------------------------" >> $LOGFILE
    }
    # Make sure only root can run the script
    if [ "$(id -u)" != "0" ]; then
    echo "This script must be run as root" 1>&2
    exit 1
    fi
    # User
    # useradd vdr -g video -d /home/vdr -s /bin/bash -m
    # Some folders
    
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          #########################################
                                          #                  MENU'                #
                                          #########################################


    mkdir $SRC/packages $SRC/archives $SRC/scripts $SRC/READ_THIS
    while :
    do
    dialog --title " VDR Light Installer Github Repository " --infobox "Copyright (C) 2017
                                                                        
    This file is part of VDR Complete Installer (VCI).                   
                                                                        
    VCI is free software: you can redistribute it and/or modify          
    it under the terms of the GNU General Public License as published by 
    the Free Software Foundation, either version 3 of the License, or    
    (at your option) any later version.                                  
                                                                        
    VCI is distributed in the hope that it will be useful,               
    but WITHOUT ANY WARRANTY; without even the implied warranty of       
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the        
    GNU General Public License for more details.                         
                                                                        
    You should have received a copy of the GNU General Public License    
    along with VCI. see the file VCI_License.GPL, If not see             
    <http://www.gnu.org/licenses/>.                                   
                                                                        
    Credit                                     
    =====================================                     
                                                                               
    Questo script e' stato creato per installare VDR in ambiente grafico        
    con l'aiuto di tutta la comunità vdr che conosco e tutta la loro esperienza   
    percio e' molto importante dare a loro credito          

    A special thanks goes to Klaus Schmidinger Vdr Developer     

    Ringraziamenti :                             
    a tutti gli user del sifteam forum e di vdritalia
    
    IN PARTICOLARE :                                
    Mona, Unixer, fiveten_59, Grazymax, Knap, jackblow33, Alez, Shalafi, Homer314, 
    Mr Cool Span, fusibile73, ceo16, Asgarot, Armando Basile, daredavil87, 
    Mld Team and many ... many oyhers.                             
                                                                              
    =====================================                     " 0 0
    echo "                    Press Enter to continue ...               "; read enterKey
    
    #
    #    
    dialog --title " VDR Light Installer Github Repository " --infobox "Copyright (C) 2017
    

	Script name: light_installer_2.3.9                                                  
	Version: Github Repository Master  (https://github.com/fiveten59/Vdr_installer)                                                     
                                                                                              
	chmod the script
        then load it simply typing: sudo ./light_installer_2.3.9            
                                                                                       
                                                               " 0 0

###########################################################################################################

    echo "                    Press Enter to continue ...               "; read enterKey
    #
    #
    clear
    echo ""
    dialog --title "   ♦♦♦♦♦   VDR 2.3.9 Light Version Installer Script - Libraries & Codec  ♦♦♦♦♦   " --infobox "
          ╭===========================================================================================╮    
          |   ................♦♦♦   Download & Upgrade Local Repository   ♦♦♦...................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [1]    +[Submenu] ~~  Local Repository Directory ~  Install - Upgrade  .............  |              
          |   =======================================================================================   |
          |   ..........♦♦♦   Audio Video & Codec Libraries - Install & Uninstall  ♦♦♦........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [2]    +[Submenu] ~~  X264 git ~ X265 hg ~ Fdk-aac git ~ Libvpx git ~ Xinelib  .......  |         
          |   =======================================================================================   |
          |   .............♦♦♦                        VDR - Plugins  - Skin               ♦♦♦.........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [3]    +[Submenu] ~~  VDR 2.3.9 & Plugins ................................................ |     
          |   =======================================================================================   |
          |   .............♦♦♦                    Channells Lists Setup                 ♦♦♦........  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [4]    +[Submenu] ~~  Channells Lists ~ Install ~ Uninstall  .............................  |     
          |   =======================================================================================   |
          |   .............................♦♦♦  KODI Setup  ♦♦♦.............................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |
          |   [5]    +[Submenu] ~~  Kodi ~ Media Center ~ Install ~ Uninstall  .......................  |          
          |   =======================================================================================   |
          |   .............................♦♦♦   Utility Setup  ♦♦♦...........................  |
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |    
          |   [6]    +[Submenu] ~~  Check Configuration Files  .....................................  |          
          |   =======================================================================================   |
          |   .............................♦♦♦   Exit Setup Menu   ♦♦♦.......................  |          
          |   '''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''  |              
          |   [7]     Exit  ..........................................................................  |  
          ╰===========================================================================================╯" 0 0

    echo -n "              Enter your menu choice = Submenu [1~6] -- Exit [7] :        "
    read yourch
    case $yourch in


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
1)                                        #########################################
                                          #            Local Repository           #
                                          #########################################


    clear
    dialog --title "   ** Download & Upgrade Local Repository **   " --infobox "
   ---------------------------------------------------------------------------------------------
       Install ~ Upgrade ~ Remove ~ Local Repository 
        *****  Crea  ***** 
   ---------------------------------------------------------------------------------------------
        
        [a]  Install ~ (If Not Exist) ............ [b]  Remove & Upgrade 
        
        [z]  Skip      
        
   ---------------------------------------------------------------------------------------------" 0 0
    echo -n "        Enter your menu choice = Install [a] ~~ Remove & Upgrade [b] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    a) clear; cd /home/`logname`; mkdir -p Vdrropo;
    chmod -R 777 Vdrropo;
    cd Vdrropo;
    
############################### Download libraries on local repo ################################### 

if [ -s /home/`logname`/Vdrropo/nasm-2.13.02.tar.bz2 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2; 
  fi

if [ -s /home/`logname`/Vdrropo/nvidia_video_sdk_6.0.1.zip ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget http://developer.download.nvidia.com/assets/cuda/files/nvidia_video_sdk_6.0.1.zip;
  fi

if [ -s /home/`logname`/Vdrropo/ffmpeg-3.4.2.tar.bz2 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget http://ffmpeg.org/releases/ffmpeg-3.4.2.tar.bz2;
  fi

if [ -s /home/`logname`/Vdrropo/xine-lib-1.2.9.tar.xz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/c0qg51tp5le1w8p/xine-lib-1.2.9.tar.xz;
  fi 

################################ Download Vdr and Plugins on local repo ##############################

if [ -s /home/`logname`/Vdrropo/vdr-2.3.9.tar.bz2 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget ftp://ftp.tvdr.de/vdr/Developer/vdr-2.3.9.tar.bz2;
  fi

if [ -s /home/`logname`/Vdrropo/vdr-patches.2.3.8_1.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/r3gg9yy14iut1qw/vdr-patches.2.3.8_1.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/Make.config.2.3.9 ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/5iw2cwx10eu8zz7/Make.config.2.3.9;
  fi

if [ -s /home/`logname`/Vdrropo/vdrsymbols.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/bx97ikp7c1h2qj2/vdrsymbols.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-epgsearch ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone http://projects.vdr-developer.org/git/vdr-plugin-epgsearch.git;
  fi

if [ -s /home/`logname`/Vdrropo/patch_epgsearch.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/s9vggu8mil8ss7t/patch_epgsearch.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-dvbapi ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://github.com/manio/vdr-plugin-dvbapi.git; 
  fi

if [ -s /home/`logname`/Vdrropo/patch_dvbapi.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/5tyvqkbhohbbju2/patch_dvbapi.tar.gz;
  fi 

if [ -s /home/`logname`/Vdrropo/xine-lib-1.2.9.tar.xz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/c0qg51tp5le1w8p/xine-lib-1.2.9.tar.xz;
  fi  
  
if [ -s /home/`logname`/Vdrropo/xineliboutput ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/vdr-projects/vdr-plugin-xineliboutput.git xineliboutput;  
  fi

if [ -s /home/`logname`/Vdrropo/patch_xineliboutput.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/11clb1n2b6itave/patch_xineliboutput.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-tvguide ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguide.git;
  fi

if [ -s /home/`logname`/Vdrropo/patch_tvguide.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/xkax9z6qumb76dj/patch_tvguide.tar.gz;
fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-tvguideng ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguideng.git;
  fi

if [ -s /home/`logname`/Vdrropo/patch_tvguideng.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/qjmzsml13sdhk0u/patch_tvguideng.tar.gz;
  fi

 if [ -s /home/`logname`/Vdrropo/01_Add_language_It.patch.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/jrizzen5q8o07uv/01_Add_language_It.patch.tar.gz;
  fi 

if [ -s /home/`logname`/Vdrropo/vdr-plugin-iptv ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://github.com/rofafor/vdr-plugin-iptv.git; 
  fi

if [ -s /home/`logname`/Vdrropo/patch_iptv.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"; 
    wget https://www.dropbox.com/s/nof5ydmxrplw2b0/patch_iptv.tar.gz;
fi

if [ -s /home/`logname`/Vdrropo/iptv_conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░"; 
    wget https://www.dropbox.com/s/1ujtklnct0nqq6q/iptv_conf.tar.gz;
fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-weatherforecast ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone git://projects.vdr-developer.org/vdr-plugin-weatherforecast.git  
  fi

if [ -s /home/`logname`/Vdrropo/patch_weatherforecast.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/v0ipkt6x3bfbbs8/patch_weatherforecast.tar.gz;
fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-externalplayer ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://git.uli-eckhardt.de/vdr-plugin-externalplayer.git;
fi

if [ -s /home/`logname`/Vdrropo/externalplayer.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/vhz1fz68159s0qg/externalplayer.conf.tar.gz;
fi

if [ -s /home/`logname`/Vdrropo/channelscan ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone https://bitbucket.org/ua0lnj/channelscan.git;    
fi

if [ -s /home/`logname`/Vdrropo/satellite_pack.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/400whbxq4tzsbtq/satellite_pack.tar.gz;    
fi

################################# Download skins ########################################

if [ -s /home/`logname`/Vdrropo/logos.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/omrs8wwh5jbz46e/logos.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/skin-flatplus ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    git clone http://projects.vdr-developer.org/git/skin-flatplus.git;
  fi
  
if [ -s /home/`logname`/Vdrropo/icone.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/5uvx468b4b87auy/icone.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/lcars_pack.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/806odyj5vyco3dg/lcars_pack.tar.gz;
  fi 

if [ -s /home/`logname`/Vdrropo/picon.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/hb2mv9ytz5q6yz7/picon.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/vdr-plugin-skindesigner ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
     git clone git://projects.vdr-developer.org/vdr-plugin-skindesigner.git;
  fi

if [ -s /home/`logname`/Vdrropo/patch_skindesigner.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/8uiizh0d3t706ll/patch_skindesigner.tar.gz;
  fi   

if [ -s /home/`logname`/Vdrropo/themes.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/m32a4s23h7r00mg/themes.tar.gz;
  fi

############################# Download others ##############################

if [ -s /home/`logname`/Vdrropo/traduzioni.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/6hzpdx9yv5ypzxv/traduzioni.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/channels.conf.terr.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/4jmjiurewriu1sh/channels.conf.terr.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/channels.conf.dual.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/z3czcyw5za82utc/channels.conf.dual.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/channels.conf.astra.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/vt0wxz86c3x6y1n/channels.conf.astra.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/channels.conf.trial.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/oebo5gddykvxng4/channels.conf.trial.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/channels.conf.radio.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/ryt4z222akmrh11/channels.conf.radio.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/hauppauge-remote.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/gvel64ykd3eyx07/hauppauge-remote.conf.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/mce-remote.conf.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/hsp66258srhwa1d/mce-remote.conf.tar.gz;
  fi  
  
if [ -s /home/`logname`/Vdrropo/oscam.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/56oomdr58os7msa/oscam.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/oscam32.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/2unpbn5x3vz0te4/oscam32.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/oscam64.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/lvs3eb7q64ericc/oscam64.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/setup_16_xine.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/iqtxc0dhv46fvgi/setup_16_xine.tar.gz;
  fi

if [ -s /home/`logname`/Vdrropo/flat_weather.tar.gz ]; then
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File exists ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
else
  echo "░░░░░░░░░░░░░░░░░░░░░░░░░░░░░¦¦¦¦¦¦:::: ..... File doesn't exist ... Downloading it now ..... ::::¦¦¦¦¦¦░░░░░░░░░░░░░░░░░░░░░░░░░░░░░";
    wget https://www.dropbox.com/s/v6o2zsjt7yvascy/flat_weather.tar.gz;
  fi

chmod -R 777 *;;
  
######################################################################################  

    b) clear; cd /home/`logname`/Vdrropo; rm -rf *;

######################################################################################  
############################ Download libraries on local repo ####################################

    wget http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2 
    wget http://ffmpeg.org/releases/ffmpeg-3.4.2.tar.bz2;
    wget http://developer.download.nvidia.com/assets/cuda/files/nvidia_video_sdk_6.0.1.zip;
    wget https://github.com/jniltinho/oficinadotux/raw/master/ffmpeg_nvenc/Video_Codec_SDK_7.1.9.zip

############################ Download Vdr and Plugins on local repo ################################

    wget ftp://ftp.tvdr.de/vdr/Developer/vdr-2.3.9.tar.bz2;
    wget https://www.dropbox.com/s/r3gg9yy14iut1qw/vdr-patches.2.3.8_1.tar.gz;
    wget https://www.dropbox.com/s/5iw2cwx10eu8zz7/Make.config.2.3.9;
    wget https://www.dropbox.com/s/bx97ikp7c1h2qj2/vdrsymbols.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguide.git;
    wget https://www.dropbox.com/s/xkax9z6qumb76dj/patch_tvguide.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-tvguideng.git;
    wget https://www.dropbox.com/s/qjmzsml13sdhk0u/patch_tvguideng.tar.gz;
    git clone https://github.com/vdr-projects/vdr-plugin-xineliboutput.git xineliboutput;
    wget https://www.dropbox.com/s/11clb1n2b6itave/patch_xineliboutput.tar.gz;
    git clone http://projects.vdr-developer.org/git/vdr-plugin-epgsearch.git;
    wget https://www.dropbox.com/s/s9vggu8mil8ss7t/patch_epgsearch.tar.gz;
    git clone git://github.com/manio/vdr-plugin-dvbapi.git;
    wget https://www.dropbox.com/s/5tyvqkbhohbbju2/patch_dvbapi.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-weatherforecast.git;
    wget https://www.dropbox.com/s/v0ipkt6x3bfbbs8/patch_weatherforecast.tar.gz;
    git clone https://github.com/rofafor/vdr-plugin-iptv.git; 
    wget https://www.dropbox.com/s/nof5ydmxrplw2b0/patch_iptv.tar.gz;
    wget https://www.dropbox.com/s/1ujtklnct0nqq6q/iptv_conf.tar.gz;
    git clone https://git.uli-eckhardt.de/vdr-plugin-externalplayer.git;
    wget https://www.dropbox.com/s/vhz1fz68159s0qg/externalplayer.conf.tar.gz;
    git clone https://bitbucket.org/ua0lnj/channelscan.git;   
    wget https://www.dropbox.com/s/400whbxq4tzsbtq/satellite_pack.tar.gz;   


############################ Download skins ######################################## 

    wget https://www.dropbox.com/s/zwb0vp6gfwh7d4y/anthra_pack.tar.gz;
    git clone git://projects.vdr-developer.org/vdr-plugin-skindesigner.git;
    wget https://www.dropbox.com/s/8uiizh0d3t706ll/patch_skindesigner.tar.gz;
    git clone http://projects.vdr-developer.org/git/skin-flatplus.git;
    wget https://www.dropbox.com/s/806odyj5vyco3dg/lcars_pack.tar.gz;

############################ Download others #######################################      
    wget https://www.dropbox.com/s/6hzpdx9yv5ypzxv/traduzioni.tar.gz;
    wget https://www.dropbox.com/s/jrizzen5q8o07uv/01_Add_language_It.patch.tar.gz;
    wget https://www.dropbox.com/s/z3czcyw5za82utc/channels.conf.dual.tar.gz;
    wget https://www.dropbox.com/s/oebo5gddykvxng4/channels.conf.trial.tar.gz;
    wget https://www.dropbox.com/s/4jmjiurewriu1sh/channels.conf.terr.tar.gz;
    wget https://www.dropbox.com/s/vt0wxz86c3x6y1n/channels.conf.astra.tar.gz;
    wget https://www.dropbox.com/s/ryt4z222akmrh11/channels.conf.radio.tar.gz;
    wget https://www.dropbox.com/s/hsp66258srhwa1d/mce-remote.conf.tar.gz;
    wget https://www.dropbox.com/s/gvel64ykd3eyx07/hauppauge-remote.conf.tar.gz;
    wget https://www.dropbox.com/s/5uvx468b4b87auy/icone.tar.gz;
    wget https://www.dropbox.com/s/56oomdr58os7msa/oscam.tar.gz;
    wget https://www.dropbox.com/s/2unpbn5x3vz0te4/oscam32.tar.gz;
    wget https://www.dropbox.com/s/lvs3eb7q64ericc/oscam64.tar.gz;
    wget https://www.dropbox.com/s/hb2mv9ytz5q6yz7/picon.tar.gz;
    wget https://www.dropbox.com/s/iqtxc0dhv46fvgi/setup_16_xine.tar.gz;
    wget https://www.dropbox.com/s/m32a4s23h7r00mg/themes.tar.gz;
    wget https://www.dropbox.com/s/omrs8wwh5jbz46e/logos.tar.gz; 
    wget https://www.dropbox.com/s/v6o2zsjt7yvascy/flat_weather.tar.gz;
    #
    chmod -R 777 *;;
    #echo "                    Press Enter to continue ...               "; 
  
      
    
#############################################################################################################################  

    z) ;;
    esac
    echo " Press Enter to continue ... "; read enterKey;;
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #

2)                                        #######################################################
                                          #  Submenu - X264 - X265 - FDK-AAC - LIBVPX - FFMPEG  #
                                          #######################################################
                  
    clear        
    dialog --title "   ** Install Assembler - Libraries & Codec - X264 - X265 - FDK-AAC - LIBVPX - FFMPEG **   " --infobox "
   --------------------------------------------------------------------------------------------------------------------
                                     Install or Remove Libraries
   --------------------------------------------------------------------------------------------------------------------
        
        *****  Install  *****  .................................................  *****  Remove  *****
        [a]    Install Nasm ...........................................  [a1]    
        [b]    X264 / X265 / FDK-AAC / Libvpx / libmp3lame / libopus ... [b1]    X264 / X265 / FDK-AAC / LIBVPX
        [c]    Video_Codec_SDK_7.1.9 ..................................  [c1]    Video_Codec_SDK_7.1.9
        [d]    FFMPEG .................................................  [d1]    FFMPEG
        [e]    Xinelib 1.2.9 ..........................................  [e1]    Xinelib 1.2.9
        
        [z]    Skip

   -------------------------------------------------------------------------------------------------------------------- 

        Info:
        For reinstalling or upgrading x264 and x265 pls remove 
        libx264-dev - x264 - ffmpeg typing:
        ~$ sudo apt-get purge x264 libx264-dev ffmpeg
        
        Info:
        - FFMPEG - Choice between X264 & X265 
        
        Info:
        - Video_Codec_SDK_7.1.9 --- NVENC Hardware Accelerated Video Encoding Decoding ~ H.264 and H.265 (HEVC)
        

   -------------------------------------------------------------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a-g] ~~ Remove [a1-g1] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    
    
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#
a)                                        ###################################################
                                          #                        Nasm                     #
                                          ###################################################

    clear
    echo "                    Installing Nasm "; sleep 4
    cd /usr/local/src;
    cp -rf /home/`logname`/Vdrropo/nasm-2.13.02.tar.bz2 /usr/local/src && tar xjvf nasm-2.13.02.tar.bz2 && rm -rf nasm-2.13.02.tar.bz2 && cd nasm-2.13.02 && ./autogen.sh && ./configure && make && make install;;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
#                                                                                                                           #
b)                                        ###################################################
                                          #        X264 / X265 / FDK-AAC / LIBVPX           #
                                          ###################################################


    clear
    echo "                    Installing X264 / X265 / FDK-AAC / LIBVPX "; sleep 4
    apt-get -y install libx264-dev; 
    apt-get -y install libx265-dev;
    apt-get -y install libfdk-aac-dev; 
    apt-get -y install libvpx-dev;
    apt-get -y install libmp3lame-dev; 
    apt-get -y install libopus-dev;;
   

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
b1)                                       ####################################################
                                          #     Remove X264 / X265 / FDK-AAC / LIBVPX        #
                                          ####################################################


    clear
    echo "                    Removing X264 / X265 / FDK-AAC / LIBVPX "; sleep 4
    apt-get -y purge x264; 
    apt-get -y purge x265;
    apt-get -y purge fdk-aac;
    apt-get -y purge libvpx;
    apt-get -y purge ;
    apt-get -y purge ;; 

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
c)                                        #########################################
                                          #     NVIDIA Video Codec SDK 7.1.9      #
                                          #########################################    
    
    clear
    echo "                    Installing  NVIDIA Video Codec SDK 7.1.9"; sleep 4
    apt-get -y install unzip libxmu-dev freeglut3 freeglut3-dev; clear;
    ln -sv /usr/lib/nvidia-384/libnvidia-encode.so /usr/lib/x86_64-linux-gnu/libnvidia-encode.so
    cd /usr/local/src;
    rm -Rf nvidia_sdk;
    cp -rf /home/`logname`/Vdrropo/Video_Codec_SDK_7.1.9.zip /usr/local/src/;
    unzip Video_Codec_SDK_7.1.9.zip; mv Video_Codec_SDK_7.1.9 nvidia_sdk;
    rm -rf Video_Codec_SDK_7.1.9.zip; cd nvidia_sdk; cp -rf Samples/common/inc/*.h /usr/local/include/; cd Samples;
    make -j4;;

      
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
c1)                                       ##########################################
                                          #   Remove NVIDIA Video Codec SDK 7.1.9  #
                                          ##########################################


  clear
  echo "                    Removing NVIDIA Video Codec SDK 7.1.9"; sleep 4
  rm -rf /usr/local/src/nvidia_sdk;;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
#                                                                                                                           # 
d)                                        #################################################
                                          #                     FFmpeg                    #        
                                          #################################################


    apt-get -y remove ffmpeg
    clear
    apt-get update
    apt-get -y install libfaac-dev libgpac-dev libjack-jackd2-dev libopencore-amrnb-dev libopencore-amrwb-dev librtmp-dev 
    apt-get -y install libx11-dev libxfixes-dev texi2html libxvidcore-dev libmpcdec-dev libsdl1.2-dev libasound2-dev
    apt-get -y install subversion git-core libncurses-dev autopoint gettext liba52-0.7.4-dev libpng12-dev libxt-dev libxv-dev libxvmc-dev   
    apt-get -y install libxcb-xv0-dev libxcb-image0-dev libxcb-util0-dev libxcb-icccm4-dev libxcb-keysyms1-dev libvcdinfo-dev
    apt-get -y install libxcb-dpms0-dev libxcb-glx0-dev libxcb-randr0-dev libxcb-screensaver0-dev libxvidcore4 
    apt-get -y install libspeex-dev libiso9660-dev libjpeg-dev  freeglut3 freeglut3-dev 
    apt-get -y install glew-utils libglew-dbg libglew-dev libglew1.13 libglewmx-dev libglewmx-dbg
    apt-get -y install freeglut3-dbg libghc-glut-dev libghc-glut-doc libghc-glut-prof libalut-dev 
    apt-get -y install libxmu-dev libxmu-headers libxmu6 libxmu6-dbg libxmuu-dev libxmuu1 libxmuu1-dbg 
if [ -f /usr/local/nv-codec-headers/makefile ];
  then  echo "nv-codec-headers are already installed"
else
    cd /usr/local/src; git clone https://git.videolan.org/git/ffmpeg/nv-codec-headers.git; cd nv-codec-headers; make; make install;
fi
    clear
    dialog --title "   ** Installing FFmpeg Git Version **   " --infobox "
   ----------------------------------------------------
   
   [a]  Install FFmpeg with X264 MPEG-4 AVC Encoder support
   
   [b]  Install FFmpeg with X264 & X265 HEVC Encoder support 
  
      
   ----------------------------------------------------" 0 0    
    echo -n "        Enter your menu choice  [a-b]:      "
    read yourch
    case $yourch in

    a) clear
    echo "                    Wait for a few seconds ...";
    cd /usr/local/src;
    rm -Rf ffmpeg
    cp -rf /home/`logname`/Vdrropo/ffmpeg-3.4.2.tar.bz2 /usr/local/src/; tar xivf ffmpeg-3.4.2.tar.bz2; mv ffmpeg-3.4.2 ffmpeg; rm -rf ffmpeg-3.4.2.tar.bz2; cd ffmpeg;
    ./configure  --extra-libs="-ldl" --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libxcb --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --install=yes --enable-libx264 --enable-nonfree --enable-libxvid --enable-vdpau --enable-vaapi --enable-pic --enable-shared --enable-nvenc --disable-doc 
    echo "                    Press Enter to continue ...               "; read enterKey;
    make -j4
    checkinstall --pkgname=ffmpeg --pkgversion="3.4.2" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES --default
    hash -r
    ldconfig -v
    echo "                    Press Enter to continue ...               "; read enterKey;;

    b) clear
    echo "                    Wait for a few seconds ...";
    cd /usr/local/src;
    rm -Rf ffmpeg
    cp -rf /home/`logname`/Vdrropo/ffmpeg-3.4.2.tar.bz2 /usr/local/src/; tar xivf ffmpeg-3.4.2.tar.bz2; mv ffmpeg-3.4.2 ffmpeg; rm -rf ffmpeg-3.4.2.tar.bz2; cd ffmpeg;
    ./configure  --extra-libs="-ldl" --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libxcb --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-nonfree --enable-libxvid --enable-vdpau --enable-vaapi --enable-pic --enable-shared --enable-nvenc --disable-doc
    echo "                    Press Enter to continue ...               "; read enterKey;
    make -j4
    checkinstall --pkgname=ffmpeg --install=yes --pkgversion="3.4.2" --backup=no --deldoc=yes --fstrans=no --default --pakdir=$PACKAGES --default
    hash -r
    ldconfig -v;;
    esac
    ;;

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
d1)                                       ####################################################
                                          #                Remove FFmpeg (Git Version)       #
                                          ####################################################


    clear
    echo "                    Removing FFmpeg "; sleep 4
    rm -rf /usr/local/src/ffmpeg; rm /usr/local/src/packages/ffmpeg*;; 
    #esac
    #echo "                    Press Enter to continue ...               "; read enterKey;;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
#                                                                                                                           # 
e)                                        #################################################
                                          #                Xinelib 1.2.9                  #        
                                          #################################################

    cd $SRC
    apt-get -y install freeglut3-dev libgl1-mesa-dev libavutil52 libavutil-dev libdc1394-22-dev
    apt-get -y install libtool-bin subversion gettext libncurses-dev libncurses5-dev libxinerama-dev 
    apt-get -y install libcdio-dev libvcdinfo-dev libavcodec-dev libpostproc-dev libfaad-dev zlib1g-dev  
    apt-get -y install libgsm1-dev libraw1394-dev libschroedinger-dev libspeex-dev libjpeg-dev
    clear
    #
    echo "                    Adesso Installo Xine-lib2 1.2.9"; sleep 4
    cp -rf /home/`logname`/Vdrropo/xine-lib-1.2.9.tar.xz /usr/local/src/; 
    tar -xJf xine-lib-1.2.9.tar.xz; rm -rf xine-lib-1.2.9.tar.xz; mv xine-lib-1.2.9 xine-lib;
    cd xine-lib
    export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH
    ./autogen.sh --disable-dxr3 --enable-w32dll --with-pic --with-w32-path=/usr/local/lib/win32
    make -j4 
    checkinstall --fstrans=no --install=yes --pkgname=libxine2 --pkgversion "1.2.9-git" --pakdir=$PACKAGES --default

   echo "                    Premere il tasto [Invio] per continuare. . .               "; read enterKey;;

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
e1)                                     #################################################
                                        #                Xinelib 1.2.9                  #
                                        #################################################


    clear
    echo "                    Adesso Rimuovo Xine-lib2 1.2.9"; sleep 4
    apt-get -y purge libxine2; rm -r /usr/local/src/xine-lib*; rm /usr/local/src/packages/libxine2*;
    echo "                    Premere il tasto [Invio] per continuare. . .               "; read enterKey;;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #

z) ;;
    esac
    echo "                    Press Enter to continue ...               "; read enterKey;;

    
    
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
3)                                        ##########################################################
                                          #        Submenu - VDR-2.3.x & Basic plugins             #
                                          ##########################################################
                  
    clear        
    dialog --title "   ** Install VDR-2.3.x & Basic plugins   **   " --infobox "
   ---------------------------------------------------------------------------------------------
        
        *****  Install  *****  .....................  *****  Remove  *****
   
        [a]    Install VDR-2.3.x & Basic plugins ........  [a1]    Remove VDR-2.3.x & Basic plugins
        [b]    First VDR Setup ..........................  [b1]    Remove VDR Setup
        
        [z]    Skip
   
   --------------------------------------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a-b] ~~ Remove [a1-b1] ~~ Exit [z]:      "
    read yourch
    case $yourch in
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                                                                                                          
a)                                        #########################################
                                          #        VDR-2.3.9 & Basic plugins      #
                                          #########################################


    clear
    echo "vdr ALL=(ALL) ALL" >> /etc/sudoers; 
    echo "*** Install libraries ***"; sleep 4 
    cd $SRC; 
    apt-get -y install libfontconfig1-dev libjpeg62-dev libcap-dev libfribidi-dev libncurses5-dev libncursesw5-dev libglib2.0-dev debhelper txt2man
    apt-get -y install libpcre++-dev python-libxml2 python-libxslt1 python-pycurl python-simplejson mimms libxml2-dev python-all-dev python-central cdbs 
    apt-get -y install libcurl3 libcurl4-gnutls-dev libxcb-icccm4 libx11-xcb-dev  libxcb-ewmh-dev libpcre++0v5 libvdpau1 libxext6 libxext-dev libc6-dev 
#
    echo "               Installing VDR 2.3.9      "; sleep 3

    cp -rf /home/`logname`/Vdrropo/$VDR.tar.bz2 $SRC/; tar xivf $VDR.tar.bz2;
    ln -s $VDR vdr; rm -rf $VDR.tar.bz2
    cd vdr; 
    echo "               Patching VDR 2.3.9      "; sleep 3
    cp -rf /home/`logname`/Vdrropo/vdr-patches.2.3.9.tar.gz $SRC/vdr/; tar -zxvf vdr-patches.2.3.9.tar.gz; rm -rf vdr-patches.2.3.9.tar.gz; sleep 1;
	echo "*** zapcockpit ***"
    patch -p1 < 02_vdr_zapcockpit.patch; sleep 1;
	echo "*** fixsavecamdata ***"
    patch -p0 < vdr-2.3.9-fixsavecamdata.diff; sleep 1;
	echo "*** fixsvdrpclientexecute ***"
    patch -p0 < vdr-2.3.9-fixsvdrpclientexecute.diff; sleep 1;
	echo "*** 72warnings ***"
    patch -p0 < vdr-2.3.9-fixg++72warnings.diff; sleep 1;
	echo "*** fixinitiallistoffset ***"
    patch -p0 < vdr-2.3.9-fixinitiallistoffset.diff; sleep 1;
    rm -rf *.patch; sleep 3;
    #  
    cp -rf /home/`logname`/Vdrropo/Make.config.2.3.9 $SRC/vdr/; mv Make.config.2.3.9 Make.config; sleep 1;
    sed -i 's/|| DVB_API_VERSION_MINOR != 0//' dvbdevice.h
    #
    cp -rf $VDRSRC/pictures/pic2mpg /usr/local/bin/;
    #
    make && make plugins
    exit_status_check;
    clear
    echo ""; echo "*** Final compilation ***"; echo ""
    cd /usr/local/src/vdr
    apt-get -y purge vdr
    checkinstall --fstrans=no --install=yes --pkgname=vdr --pkgversion "2.3.9-git" --pakdir=$PACKAGES --default
    rm -rf /media/video; mkdir /media/video; mkdir -p /usr/local/lib/vdr/scripts;
    mkdir -p /etc/vdr/plugins; cp *.conf /etc/vdr; mkdir -p /usr/local/lib/vdr/plugins;

    clear    
    echo "*** keymacros.conf setup ***";
    rm -rf /etc/vdr/keymacros.conf; cd $SRCVDR; cp -rf vdr /usr/local/bin/; touch /etc/vdr/keymacros.conf
    clear
    echo "# Remote control key macros for VDR
#
# Format:
#
# macrokey  key1 key2 key3...
# macrokey  @plugin key1 key2 key3...
#
# See man vdr(5)

Red       Recordings
Green     @weatherforecast
Yellow    Info
Blue      @tvguideng
Ok        Channels" >> /etc/vdr/keymacros.conf
#
/usr/local/bin/vdr --help; exit_status_check
#
###########################################################
#        Italian translation for some plugins             #
###########################################################
cd $SRC; mkdir -p traduzioni; cd traduzioni;
cp /home/`logname`/Vdrropo/traduzioni.tar.gz /$SRC/traduzioni/;
tar -zxvf traduzioni.tar.gz; rm -rf traduzioni.tar.gz;
######################################################################
# Install Basic plugins
clear
echo "                        "
echo "                        "
echo "                        "
echo "Install Basic plugins  ( Dvbapi - Epgsearch - Weatherforecast - Skinflatplus - TvGuide - Iptv - ExternalPlayer - Channelscan )"
echo "                 Press Enter to continue ...         "; read enterKey
cd $SRC;
mkdir -p /usr/local/lib/vdr/plugins; mkdir -p /usr/local/lib/vdr/scripts; mkdir -p /etc/vdr/plugins; mkdir -p /etc/vdr/themes; cd $PLUGINS; mkdir -p tvguide;
#
#
apt-get -y install -y libglew-dev; apt-get -y install libmagick++-6.q16-dev; apt-get -y install graphicsmagick-libmagick-dev-compat;
apt-get -y install libjansson4 libjansson-dev libglm-dev libxml2-dev;
apt-get -y install graphicsmagick libdjvulibre-dev libgraphicsmagick++1-dev; apt-get -y install libgraphicsmagick1-dev libjpeg-turbo8-dev libjpeg8-dev;
apt-get -y install libmagickcore-6.q16-dev libmagickwand-6.q16-dev libtiff5-dev
apt-get -y install lm-sensors librsvg2-dev ; apt-get -y install vlc;
#
#
clear
echo ""; echo "               *** Dvbapi ***"; echo ""; sleep 3
cd $VDRSRC; 
cp -rf /home/`logname`/Vdrropo/vdr-plugin-dvbapi /$VDRSRC/; mv vdr-plugin-dvbapi dvbapi; cd dvbapi; cp -rf /home/`logname`/Vdrropo/patch_dvbapi.tar.gz /$VDRSRC/dvbapi/; tar -zxvf patch_dvbapi.tar.gz; rm -rf patch_dvbapi.tar.gz; patch -p1 < vdr-plugin-dvbapi-01_crosscompiling.patch; sleep 1;
cd ../../..; make plugins
#
clear
echo ""; echo "               *** Xineliboutput ***"; echo ""; sleep 3
cd $VDRSRC;
cp -rf /home/`logname`/Vdrropo/xineliboutput /$VDRSRC/; cd xineliboutput; make && make install; mkdir -p /etc/vdr/plugins/xineliboutput; cp -rf /usr/local/src/vdr/PLUGINS/src/xineliboutput/*.mpg /etc/vdr/plugins/xineliboutput; cp -rf /usr/local/src/vdr/PLUGINS/src/xineliboutput/examples/remote.conf.example /etc/vdr/plugins/xineliboutput/remote.conf; echo "*** allowed_hosts.conf setup ***"; touch /etc/vdr/plugins/xineliboutput/allowed_hosts.conf; echo "$ALLOWED" >> /etc/vdr/plugins/xineliboutput/allowed_hosts.conf; 
#  cp -rf /home/`logname`/Vdrropo/patch_xineliboutput.tar.gz /$VDRSRC/xineliboutput/; tar -zxvf patch_xineliboutput.tar.gz; rm -rf patch_xineliboutput.tar.gz; patch -p1 < 10_xineliboutput_mld.patch; patch -p1 < 13_xineliboutput_null.patch;
#
clear
echo ""; echo "               *** Epgsearch ***"; echo ""; sleep 3
cd $VDRSRC;
cp -rf /home/`logname`/Vdrropo/vdr-plugin-epgsearch /$VDRSRC/; mv vdr-plugin-epgsearch epgsearch; cd epgsearch; cp -rf /home/`logname`/Vdrropo/patch_epgsearch.tar.gz /$VDRSRC/epgsearch/; tar -zxvf patch_epgsearch.tar.gz; rm -rf patch_epgsearch.tar.gz; patch -p1 < 10_langinfo-include.diff; sleep 1; patch -p1 < 10_epgsearch_Makefile.patch; sleep 1; patch -p1 < 11_epgsearch_menue.patch; sleep 1; patch -p1 < 12_epgsearch_README.patch; sleep 1;  cd ../../..; make plugins; 
#
#
clear
echo ""; echo "               *** Weatherforecast ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/Vdrropo/vdr-plugin-weatherforecast /$VDRSRC; mv vdr-plugin-weatherforecast weatherforecast; cd weatherforecast; cp -rf /home/`logname`/Vdrropo/patch_weatherforecast.tar.gz /$VDRSRC/weatherforecast/; tar -zxvf patch_weatherforecast.tar.gz; rm -rf patch_weatherforecast.tar.gz; patch -p1 < 10_weatherforecast_debug.patch; sleep 1; patch -p1 < 11_weatherforecast_i18n-it.patch; cd ../../..; make plugins; 
#
#
clear
echo ""; echo "               *** Skin Flatplus ***"; echo ""; sleep 3
cd $VDRSRC;
cp -rf /home/`logname`/Vdrropo/skin-flatplus /$VDRSRC/ && cd skin-flatplus && make install && cd /usr/local/lib/vdr/plugins/skinflatplus/widgets/temperatures/ && ln -s temperatures.default temperatures && cd ../system_information && ln -s system_information.ubuntu system_information  && cp -rf /home/`logname`/Vdrropo/flat_weather.tar.gz ../weather/ && cd ../weather && tar -zxvf flat_weather.tar.gz && rm -rf flat_weather.tar.gz;
# qui sopra c'è da mettere le icone di menù mancanti che sono dentro le skin del Skin Flatplus traducendole e comprimendole
#
clear
echo ""; echo "               *** Tvguide ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/Vdrropo/vdr-plugin-tvguide /$VDRSRC; mv vdr-plugin-tvguide tvguide; cd tvguide; cp -rf /home/`logname`/Vdrropo/patch_tvguide.tar.gz /$VDRSRC/tvguide/; tar -zxvf patch_tvguide.tar.gz; rm -rf patch_tvguide.tar.gz; patch -p1 < 10_tvguide_lib_Magick.patch; patch -p1 < 11_tvguide_i18n-it.patch; patch -p1 < 12_tvguide_VDR235.patch; patch -p1 < 13_tvguide_comp_with_last_tvscraper.patch; make; cd ../../..; make plugins; cp -rf $VDRSRC/tvguide/themes/* /etc/vdr/themes/;
#  
#
echo ""; echo "               *** Iptv ***"; echo ""; sleep 3
cd $VDRSRC && cp -rf /home/`logname`/Vdrropo/vdr-plugin-iptv /$VDRSRC && mv vdr-plugin-iptv iptv && cd iptv && cp -rf /home/`logname`/Vdrropo/patch_iptv.tar.gz /$VDRSRC/iptv && tar -zxvf patch_iptv.tar.gz && rm -rf patch_iptv.tar.gz && patch -p1 < iptv.patch && make && cd ../../.. && make plugins && mkdir -p /etc/vdr/plugins/iptv/vlcinput && cp -rf /home/`logname`/Vdrropo/iptv_conf.tar.gz /$PLUGINS/iptv/vlcinput/ && cd $PLUGINS/iptv/vlcinput && tar -zxvf iptv_conf.tar.gz && rm -rf iptv_conf.tar.gz 
#
#
clear
echo ""; echo "               *** Externalplayer ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/Vdrropo/vdr-plugin-externalplayer /$VDRSRC && mv vdr-plugin-externalplayer externalplayer && cp -rf /$SRC/traduzioni/external_it_IT.po /$VDRSRC/externalplayer/po/ && cd externalplayer/po/ && mv external_it_IT.po it_IT.po && cd ../../../.. && make plugins && cp -rf /home/`logname`/Vdrropo/externalplayer.conf.tar.gz /etc/vdr/plugins/ && cd /etc/vdr/plugins && tar -zxvf externalplayer.conf.tar.gz && rm -rf externalplayer.conf.tar.gz;
clear
#
#
clear
echo ""; echo "               *** Channelscan ***";  sleep 3
cd $VDRSRC; cp -rf /home/`logname`/Vdrropo/channelscan /$VDRSRC && cp -rf $VDRSRC/channelscan/script/* /usr/local/bin && cd ../.. && make plugins && cd $PLUGINS && mkdir -p transponders && cp -rf /home/`logname`/Vdrropo/satellite_pack.tar.gz  $PLUGINS/transponders && cd transponders && tar -zxvf satellite_pack.tar.gz && rm -rf satellite_pack.tar.gz;
#
#
cd /usr/local/src/vdr; make plugins install;

    echo "                    Press Enter to continue ...               "; read enterKey;;
        
     
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a1)                                       #########################################
                                          #              Remove VDR-2.3.x         #
                                          #########################################


    clear
    echo "                    Removing VDR 2.3.x"; sleep 4
dpkg -r vdr; rm -rf /etc/vdr; rm -rf /usr/local/share/vdr; rm -rf /usr/local/lib/vdr; rm -rf /var/cache/vdr; cd $SRC; rm -rf vdr vdr-*; cd packages; rm -rf vdr*.deb; rm -rf /usr/local/bin/vdrpoweroff; rm -rf /usr/local/bin/vdrrun;  rm -rf /usr/local/bin/start-vdr-xine.sh; rm -rf /usr/local/bin/start-xinelib-vdr.sh; rm -rf /usr/local/share/vdr; rm -rf /usr/local/bin/start-softhddevice-vdr.sh; rm -rf /home/`logname`/Scrivania/Xinelib.desktop; rm -rf /home/`logname`/Scrivania/Vdr-Xine.desktop; rm -rf /home/`logname`/Scrivania/Vdr-Softhddevice.desktop; rm -rf /home/`logname`/Scrivania/KillVdr.desktop; cd $PACKAGES; rm -rf vdr*.deb; rm -rf /usr/share/applications/Xinelib.desktop; rm -rf /usr/share/applications/Vdr-Xine.desktop; rm -rf /usr/share/applications/Vdr-Softhddevice.desktop; rm -rf /usr/share/applications/KillVdr.desktop;
    echo "                    Press Enter to continue ...               "; read enterKey;;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
b)                                        #########################################
                                          #          Configuring VDR-2.3.x        #
                                          #########################################


clear
echo "                    Configuring VDR 2.3.x"; sleep 3
clear
echo "                    Installing true type"; sleep 1
apt-get -y install lirc lirc-x liblircclient-dev;
if [ -d /usr/share/fonts/truetype/vdrsymbols ];
then echo " Fonts $Remind4"; sleep 3;
else cp -rf /home/`logname`/Vdrropo/vdrsymbols.tar.gz /usr/share/fonts/truetype/; cd /usr/share/fonts/truetype/; tar -zxvf vdrsymbols.tar.gz;
fc-cache -fv
fi;

#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################	
					  #         Installing Vdr Icons          #
                                          #########################################

clear
echo "                    Installing Vdr Icons"; sleep 1
cd $SRC; cp -rf /home/`logname`/Vdrropo/icone.tar.gz /usr/local/src/; tar -zxvf icone.tar.gz; rm -rf icone.tar.gz;

#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################	
					  #     Create start Vdr command line     #
					  #########################################
							
clear
echo "                    Create start Vdr command line"; sleep 1
rm -rf /usr/local/bin/vdrrun; touch /usr/local/bin/vdrrun;

echo '#!/bin/bash

/usr/local/bin/vdr -c /etc/vdr -E /var/vdr -l 3 -u root '$PLUGIN' -s /usr/local/bin/vdrpoweroff ' >> /usr/local/bin/vdrrun && chmod a+x /usr/local/bin/vdrrun
	
#   Permessi per eseguire Vdr       
echo "%`logname` ALL=NOPASSWD: /etc/init.d/vdr" >> /etc/sudoers
#    Creazione /usr/local/bin/vdrpoweroff    
rm -rf /usr/local/bin/vdrpoweroff; touch /usr/local/bin/vdrpoweroff
echo '#!/bin/sh
#file name: Kill Vdr "vdrpoweroff"
killall -9 vdrrun & killall -9 vdr & killall -9 vdr-sxfe & killall -9 vlc 
# & killall -9 oscam & shutdown -h now '  >> /usr/local/bin/vdrpoweroff
# & shutdown -h now 
#
chmod 755 /usr/local/bin/vdrpoweroff
#
#  Create /etc/init.d/vdr           
rm -rf /etc/init.d/vdr; touch /etc/init.d/vdr 
echo '
#!/bin/sh
#
# To be copied to: /etc/init.d
# And type:
### BEGIN INIT INFO
# Provides:          VDR
# Required-Start:   
# Required-Stop:     
# Default-Start:     0 1 2 3 4 5 6
# Default-Stop:     
# Description:       Start, Stop or Restart VDR
### END INIT INFO

# Shell functions sourced from /etc/rc.status:
set -e

# Reset status of this service
# rc_reset
#
echo "Vdr init.d script using: $1" >> /var/log/vdr.log &
case "$1" in
    start)
        echo -n "Start VDR "
       /usr/local/bin/vdrrun >> /var/log/vdr.log &
        # Remember status and be verbose
        ;;
    stop)
        echo -n "Stop VDR "
       killall vdrrun
       killall vdr
       killall vdr-sxfe
        # Remember status and be verbose
        ;;
    restart)
        echo -n "Restart VDR "
        $0 stop
        $0 start

        # Remember status and be quiet
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
exit 0
' >> /etc/init.d/vdr
chmod 755 /etc/init.d/vdr

    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                  Oscam Setup                   #
                                          ##################################################
                                          
cd /usr/local; mkdir -p etc;                                          
if [ -f /usr/local/etc/oscam.check ];
  then  echo "Oscam is already installed"
else
echo "oscam ALL=(ALL) ALL" >> /etc/sudoers; 
apt-get install libssl0.9.8 ; rm -rf /etc/init.d/oscam; touch /etc/init.d/oscam; 

echo '
#!/bin/sh
#
# To be copied to: /etc/init.d
# And type:
### BEGIN INIT INFO
# Provides:          Oscam
# Required-Start:   
# Required-Stop:     
# Default-Start:     0 1 2 3 4 5 6
# Default-Stop:     
# Description:       Start, Stop or Restart Oscam
### END INIT INFO

# Shell functions sourced from /etc/rc.status:
set -e

# Reset status of this service
# rc_reset
#
echo "Vdr init.d script using: $1" >> /var/log/oscam.log &
case "$1" in
    start)
        echo -n "Start Oscam "
       /usr/local/bin/oscam >> /var/log/oscam.log &
        # Remember status and be verbose
        ;;
    stop)
        echo -n "Kill Oscam "
       killall -9 oscam
        # Remember status and be verbose
        ;;
    restart)
        echo -n "Restart Oscam "
        $0 stop
        $0 start

        # Remember status and be quiet
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
        ;;
esac
exit 0
' >> /etc/init.d/oscam; chmod 755 /etc/init.d/oscam; echo "%`logname` ALL=NOPASSWD: /etc/init.d/oscam" >> /etc/sudoers; cd $SRC; mkdir -p oscam; cd oscam; cp -rf /home/`logname`/Vdrropo/oscam.tar.gz /$SRC/oscam; tar -zxvf oscam.tar.gz; rm -rf oscam.tar.gz;
cp -rf * /usr/local/etc/;
fi
   
if uname -m  | grep "x86_64"; then
    echo "64bit detected"; cp -rf /home/`logname`/Vdrropo/oscam64.tar.gz /usr/local/bin/; cd /usr/local/bin; tar -zxvf oscam64.tar.gz; rm -rf oscam64.tar.gz;
    else echo "32bit detected"
        cp -rf /home/`logname`/Vdrropo/oscam32.tar.gz /usr/local/bin/; cd /usr/local/bin; tar -zxvf oscam32.tar.gz; rm -rf oscam32.tar.gz;
fi
chmod 777 oscam;



#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #           Setup Vdr & Oscam icons              #
                                          ##################################################


					echo "               *** Setup Xineliboutput icon  ***"; sleep 1                                          
rm -rf /usr/local/bin/start-xinelib-vdr.sh && touch /usr/local/bin/start-xinelib-vdr.sh && 
echo "#!/bin/sh
"$Xinelib"" >> /usr/local/bin/start-xinelib-vdr.sh && chmod a+x /usr/local/bin/start-xinelib-vdr.sh
#                                        
rm -rf /home/`logname`/Scrivania/Xinelib.desktop; rm -rf /usr/share/applications/Xinelib.desktop;
if [ -e /etc/vdr/plugins/xineliboutput/remote.conf ];
  then 
touch /home/`logname`/Scrivania/Xinelib.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=Vdr-Xineliboutput
Description=Start di Vdr-Xineliboutput
Icon=/usr/local/src/icone/vdrlogo.png
Exec=/usr/local/bin/start-xinelib-vdr.sh
" >> /home/`logname`/Scrivania/Xinelib.desktop;
chmod 777 /home/`logname`/Scrivania/Xinelib.desktop;
cp /home/`logname`/Scrivania/Xinelib.desktop /usr/share/applications/Xinelib.desktop;
else echo " Xineliboutput $remind5"
fi


#############################################################################################################################  
                                         
					echo "               *** Setup Kill Xineliboutput icon  ***"; sleep 1                                         
rm -rf /home/`logname`/Scrivania/KillVdr.desktop; rm -rf /usr/share/applications/KillVdr.desktop;
touch /home/`logname`/Scrivania/KillVdr.desktop; 
chmod 777 /home/`logname`/Scrivania/KillVdr.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=KillVdr
Description=Kill Vdr
Icon=/usr/local/src/icone/killvdr.png
Exec=/usr/local/bin/KillVdr.sh
" >> /home/`logname`/Scrivania/KillVdr.desktop; sudo chmod 777 /home/`logname`/Scrivania/KillVdr.desktop; cp /home/`logname`/Scrivania/KillVdr.desktop /usr/share/applications/KillVdr.desktop;
rm -rf /usr/local/bin/KillVdr.sh;
touch /usr/local/bin/KillVdr.sh;
echo '#!/bin/sh

# sudo killall -9 vdr & killall -9 vdr-sxfe
sudo /etc/init.d/vdr stop > /dev/null 2>&1
' >> /usr/local/bin/KillVdr.sh;
chmod a+x /usr/local/bin/KillVdr.sh;


#############################################################################################################################  
                                          
					echo "               *** Setup Oscam icon  ***"; sleep 1 1                                                                                    
rm -rf /home/`logname`/Scrivania/Oscam.desktop; rm -rf /usr/share/applications/Oscam.desktop;
touch /home/`logname`/Scrivania/Oscam.desktop; echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=Oscam
Description=Oscam Start 
Icon=/usr/local/src/icone/Oscam.png
Exec=/usr/local/bin/start-oscam.sh
" >> /home/`logname`/Scrivania/Oscam.desktop; sudo chmod 777 /home/`logname`/Scrivania/Oscam.desktop; cp /home/`logname`/Scrivania/Oscam.desktop /usr/share/applications/Oscam.desktop;
rm -rf /usr/local/bin/start-oscam.sh; touch /usr/local/bin/start-oscam.sh; echo '#!/bin/sh 
sleep 10
sudo /etc/init.d/oscam start > /dev/null 2>&1
' >> /usr/local/bin/start-oscam.sh; chmod a+x /usr/local/bin/start-oscam.sh;


#############################################################################################################################  
                                         
					echo "               *** Setup Kill Oscam icon  ***"; sleep 1                                         
rm -rf /home/`logname`/Scrivania/KillOscam.desktop; rm -rf /usr/share/applications/KillOscam.desktop;
touch /home/`logname`/Scrivania/KillOscam.desktop; 
chmod 777 /home/`logname`/Scrivania/KillOscam.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=KillOscam
Description=Kill Oscam
Icon=/usr/local/src/icone/killoscam.png
Exec=/usr/local/bin/KillOscam.sh
" >> /home/`logname`/Scrivania/KillOscam.desktop; sudo chmod 777 /home/`logname`/Scrivania/KillOscam.desktop; cp /home/`logname`/Scrivania/KillOscam.desktop /usr/share/applications/KillOscam.desktop;
rm -rf /usr/local/bin/KillOscam.sh;
touch /usr/local/bin/KillOscam.sh
echo '#!/bin/sh

sudo /etc/init.d/oscam stop > /dev/null 2>&1
' >> /usr/local/bin/KillOscam.sh;
chmod a+x /usr/local/bin/KillOscam.sh;


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #      Install default Skin for Vdr     #
                                          ##################################################
                                          
                                          

if [ -f /etc/vdr/themes/checklcars ];
then echo " Lcars theme is already installed" ; sleep 1
else cp -rf /home/`logname`/Vdrropo/lcars_pack.tar.gz /etc/vdr/themes; cd /etc/vdr/themes; tar -zxvf lcars_pack.tar.gz; rm -rf lcars_pack.tar.gz;
fi


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #               Install Channels logos           #
                                          ##################################################

                            
cd /etc/vdr/plugins/; mkdir -p picon;
#
if [ -f /etc/vdr/logos/2be.png ];
then echo " Logos are already installed" ; sleep 1
else
cp -rf /home/`logname`/Vdrropo/logos.tar.gz /etc/vdr/; cd /etc/vdr/; tar -zxvf logos.tar.gz; rm -rf logos.tar.gz;
fi
sleep 1
ln -s /etc/vdr/plugins/picon liquid-logos4anthra_HD;


#############################################################################################################################
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
					  #########################################
					  #             Monitor setup             #			
					  #########################################	

					echo "               ***   Monitor setup   ***"; sleep 1                                            
cd /etc/vdr; rm -rf setup.conf; cp -rf /home/`logname`/Vdrropo/setup_16_xine.tar.gz /etc/vdr/; 
tar -zxvf setup_16_xine.tar.gz; rm -rf setup_16_xine.tar.gz; 


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                  Diseqc setup                  #
                                          ##################################################
                                          
                                          
rm -rf /etc/vdr/diseqc.conf;
rm -rf /etc/vdr/channels.conf;
echo "*** diseqc.conf setup ***"; sleep 1
    clear        
    dialog --title "   ** diseqc.conf setup **   " --infobox "
   ----------------------------------------------
                Diseqc setup             
   ----------------------------------------------
        [a]    Hot Bird 13°E                    
        [b]    Astra 19.2°E                    
        [c]    Dual 13, 19.2°E                  
        [d]    Trial 9, 13, 19.2°E              
        [e]    Trial 13, 16, 19°E               
        [f]    Quadri 13, 19, 23.5, 28.2°E      
        [g]    Quadri 9, 13, 16, 19°E           
        [h]    Terrestrial
        [i]    Radio Iptv                   
        
        [z]    Skip                             
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      "
    read yourch
    case $yourch in
a) echo "$MONO13" >> /etc/vdr/diseqc.conf && cd /etc/vdr/ && wget http://www.vdr-italia.org/channels/17x/channels_tivusat_skyitalia_17x.conf && mv channels_tivusat_skyitalia_17x.conf channels.conf;;
b) echo "$MONO19" >> /etc/vdr/diseqc.conf && cp -rf /home/`logname`/Vdrropo/channels.conf.astra.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.astra.tar.gz && rm -rf channels.conf.astra.tar.gz;;
c) echo "$DUAL" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf && cp -rf /home/`logname`/Vdrropo/channels.conf.dual.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.dual.tar.gz && rm -rf channels.conf.dual.tar.gz;;
d) echo "$TRIAL" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf && cp -rf /home/`logname`/Vdrropo/channels.conf.trial.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.trial.tar.gz && rm -rf channels.conf.trial.tar.gz;;
e) echo "$TRIAL2 Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
f) echo "$QUADRI Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
g) echo "$QUADRI2 Load a channels.conf" >> /etc/vdr/diseqc.conf && sed -i 's/DiSEqC = 0/DiSEqC = 1/' /etc/vdr/setup.conf;;
h) cd /etc/vdr && cp -rf /home/`logname`/Vdrropo/channels.conf.terr.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf channels.conf.terr.tar.gz && rm -rf channels.conf.terr.tar.gz && mv channels.conf.terr channels.conf;;
i) cd /etc/vdr && cp -rf /home/`logname`/Vdrropo/radio_channels.conf.tar.gz /etc/vdr/ && cd /etc/vdr/ && tar -zxvf radio_channels.conf.tar.gz && rm -rf radio_channels.conf.tar.gz && mv radio_channels.conf channels.conf;;

esac


#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##################################################
                                          #                   Setup remote                 # 
                                          ##################################################
                                          

clear        
    dialog --title "   ** Setup remote **   " --infobox "
   ----------------------------------------------
                Setup remote             
   ----------------------------------------------
        [a]    Mce                   
        [b]    Hauppauge                   
        [c]    Skip                             
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-c]:      "
    read yourch
    case $yourch in
a) cd /etc/vdr; cp -rf /home/`logname`/Vdrropo/mce-remote.conf.tar.gz /etc/vdr/; tar -zxvf mce-remote.conf.tar.gz; rm -rf mce-remote.conf.tar.gz;;
b) cd /etc/vdr; cp -rf /home/`logname`/Vdrropo/hauppauge-remote.conf.tar.gz /etc/vdr/;tar -zxvf hauppauge-remote.conf.tar.gz; rm -rf hauppauge-remote.conf.tar.gz;;

esac

# Avvio vdr
killall -9 vdr-sxfe
#
sudo /usr/local/bin/start-xinelib-vdr.sh
;;    
esac
;; 
    
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
4)                                        #########################################
                                          #     Install && Upgrade Settings       #
                                          #########################################




apt-get -y install unzip;
echo "               *** Install W_scan ***"; sleep 1
cd $SRC; 
if [ -f /$SRC/w_scan/Makefile ];
  then  echo "W_scan $Remind3"
else wget http://wirbel.htpc-forum.de/w_scan/w_scan-20170107.tar.bz2; tar xivf w_scan-20170107.tar.bz2; cp -rf w_scan-20170107.tar.bz2 /home/`logname`/Vdrropo/; mv w_scan-20170107 w_scan; rm -rf w_scan-20170107.tar.bz2; cd w_scan; wget https://www.dropbox.com/s/omt6155y22a5ft3/patch_w_scan.tar.gz; tar -zxvf patch_w_scan.tar.gz; cp -rf patch_w_scan.tar.gz home/`logname`/Vdrropo/; rm -rf patch_w_scan.tar.gz; patch -p1 < 10_w-scan_dvb-t2.patch; ./configure; make; make install;
fi
#
echo "               *** Install Vdr-getchannels-0.7.0 ***"; sleep 1
cd $SRC; mkdir -p e2settings; cd e2settings; 
if [ -f $SRC/e2settings/vdr-getchannels/getchannels.py ];
  then  echo "vdr-getchannels-0.7.0 $Remind3"
else git clone https://github.com/fiveten59/vdr-getchannels.git; cp -rf vdr-getchannels /home/`logname`/Vdrropo/; 
fi
#
    clear        
    dialog --title "   ** Install && Upgrade Settings **   " --infobox "
   --------------------------------------------------------------
                     Creazione lista canali
   --------------------------------------------------------------
   
              
        ****   Vdr-Getchannels 0.7.0 (Old)   ****
        [a]    Install Settings from Kingofsat  9.0E 
        [b]    Install Settings from Kingofsat 13.0E         
        [c]    Install Settings from Kingofsat 19.2E 
                        
        ****   Sezione W_Scan  ****
        [d]    Install Settings 9.0E - using W_scan                   
        [e]    Install Settings 13.0E - using W_scan              
        [f]    Install Settings 19.2E - using W_scan             
        [g]    Install Terrestrial Settings - using W_scan

        [h]    Download from repo (trial 9 - 13 -19.2E)
        [i]    Download from repo (dual 13 -19.2E)  
        

            
        [z]    Skip 
        
   -------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      "
    read yourch
    case $yourch in
    

    ##### Vdr-Getchannels 0.7.0 (Old) #####
    a) rm -rf $SRC/e2settings/channels_9.0E.conf && cd $SRC/e2settings/vdr-getchannels && python getchannels.py -l 9.0E -ot channels_9.0E.conf > $SRC/e2settings/channels_9.0E.conf && cp $SRC/e2settings/channels_9.0E.conf /etc/vdr/channels_9.0E.conf;;
    b) rm -rf $SRC/e2settings/channels_13.0E.conf && cd $SRC/e2settings/vdr-getchannels && python getchannels.py -l 13.0E -ot channels_13.0E.conf > $SRC/e2settings/channels_13.0E.conf && cp $SRC/e2settings/channels_13.0E.conf /etc/vdr/channels_13.0E.conf;;
    c) rm -rf $SRC/e2settings/channels_19.2E.conf && cd $SRC/e2settings/vdr-getchannels && python getchannels.py -l 19.2E -ot channels_19.2E.conf > $SRC/e2settings/channels_19.2E.conf && cp $SRC/e2settings/channels_19.2E.conf /etc/vdr/channels_19.2E.conf;;
  
    ##### W_Scan #####
    d) rm -rf /etc/vdr/channels-w_scan-9E0.conf; w_scan -fs -s S9E0 -D0c -o2 >> /etc/vdr/channels-w_scan-9E0.conf;; 
    e) rm -rf /etc/vdr/channels-w_scan-13E0.conf; w_scan -fs -s S13E0 -D1c -o2 >> /etc/vdr/channels-w_scan-13E0.conf;;
    f) rm -rf /etc/vdr/channels-w_scan-19E2.conf; w_scan -fs -s S19E2 -D2c -o2 >> /etc/vdr/channels-w_scan-19E2.conf;;
    g) rm -rf /etc/vdr/channels-dtt.conf; w_scan -ft -c IT >> /etc/vdr/channels-dtt.conf;;

    h) cp -rf /home/`logname`/Vdrropo/channels.conf.trial.tar.gz /etc/vdr/;;
    i) cp -rf /home/`logname`/Vdrropo/channels.conf.dual.tar.gz /etc/vdr/;;
    
   ###
    
    z) ;;
    esac
    ;;
   

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                                                                                                       ##
#                                                                                                                           #
5)                                        ##########################################################
                                          #                      Submenu - KODI                    #
                                          ##########################################################
                  
    clear        
    dialog --title "   ** Install & Setup KODI **   " --infobox "
   --------------------------------------------------------------
                         Install/Remove Kodi
   --------------------------------------------------------------
        
        *****  Install  *****  ..........  *****  Remove  *****
        [a]    Install  ............  [a1]    Remove KODI  
        
        [z]    Skip
      
                   
   -------------------------------------------------------------- " 0 0
    echo -n "        Enter your menu choice = Install [a] ~~ Remove [a1] ~~ Exit [z]:      "
    read yourch
    case $yourch in

a)
rm -rf /home/`logname`/Scrivania/Kodi.desktop; rm -rf /usr/share/applications/Kodi.desktop;
touch /home/`logname`/Scrivania/Kodi.desktop; 
chmod 777 /home/`logname`/Scrivania/Kodi.desktop;
echo "[Desktop Entry]
Version=1.0
Encoding=UTF-8
Type=Application
Name=Kodi
Description=Kodi Start
Icon=/usr/local/src/icone/kodi.png
Exec=/usr/local/bin/start-kodi-vdr.sh
" >> /home/`logname`/Scrivania/Kodi.desktop; cp -r /home/`logname`/Scrivania/Kodi.desktop /usr/share/applications/Kodi.desktop;
rm -rf /usr/local/bin/start-kodi-vdr.sh;
touch /usr/local/bin/start-kodi-vdr.sh
echo '#!/bin/sh

/bin/sleep 2
kodi 
' >> /usr/local/bin/start-kodi-vdr.sh; 
chmod a+x /usr/local/bin/start-kodi-vdr.sh;
apt-get -y install python-software-properties pkg-config; apt-get -y install software-properties-common




#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
                                          ##########################################################
                                          #                      Install  KODI                     #
                                          ##########################################################
     
    clear
    dialog --title "   ** KODI **   " --infobox "
   ----------------------------------------------
                KODI versions
   ----------------------------------------------
        [a]    Kodi Stable version 
        [b]    Kodi Release Candidate version                                
        [c]    Kodi Development version             
                                     
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-c]:      "
    read yourch
    case $yourch in

a)   sudo add-apt-repository ppa:team-xbmc/ppa; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
b)   sudo add-apt-repository ppa:team-xbmc/unstable; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
c)   sudo add-apt-repository ppa:team-xbmc/xbmc-nightly; sudo apt-get update; sudo apt-get -y install kodi kodi-pvr-iptvsimple;;
 esac    
     echo "                    Press Enter to continue ...               "; read enterKey;;

 
    

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
a1)                                       #########################################
                                          #               Remove KODI             #
                                          #########################################


    clear
    echo "                    Remove KODI"; sleep 4
    apt-get remove kodi*; apt-get purge kodi*; rm -rf ~/.kodi/; sudo add-apt-repository --remove ppa:team-xbmc/xbmc-nightly; sudo add-apt-repository --remove ppa:team-xbmc/ppa; sudo add-apt-repository --remove ppa:team-xbmc/unstable; rm -rf /home/`logname`/Scrivania/Kodi.desktop; rm -rf /usr/share/applications/Kodi.desktop;;
    esac
;;

#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
6)                                        #########################################
                                          #                Utility                #
                                          #########################################


    clear        
    dialog --title "   ** Utility **   " --infobox "
   ----------------------------------------------
                Utility
   ----------------------------------------------

        [a]    Change Vdrrun               
        [b]    Change channell list            
        [c]    Change setup.conf    
        [d]    Change oscam              
        [e]    Reconfigure lirc                        
        [f]    Nautilus  
        
        [z]    Skip    
        
   ---------------------------------------------- " 0 0
    echo -n "        Enter your menu choice  [a-z]:      " 
    read yourch
    case $yourch in

a) gedit /usr/local/bin/vdrrun;;
b) gedit /etc/vdr/channels.conf;;
c) gedit /etc/vdr/setup.conf;;
d) if [ -f /usr/local/etc/oscam.server ];
then gedit /usr/local/etc/oscam.server; gedit /usr/local/etc/oscam.conf; gedit /usr/local/etc/oscam.user;
else echo "Oscam is not installed"
fi;;
e) dpkg-reconfigure lirc;;
f) nautilus;;
z) ;;
esac
;;

   
#############################################################################################################################  
#############################################################################################################################
###                                                                                                                       ###
##                                                                                                                         ##
#                                                                                                                           #
7)                                        #########################################
                                          #                Exit/Stop              #
                                          #########################################


    clear
    echo ""
    echo ""
    echo ""
    echo ""
    echo "                                                       .-----,        ,.----."
    echo "                                                .-----'       '------'       ',"
    echo "                                              ,'  First ed. by mona66 ® 2010   ',"
    echo "                                              '     Updated and Revision        '"
    echo "                                              ',  by fiveten_59 ® and knap ®    ,'"
    echo "                                              ,'   2013 ~ 2014 ~ 2015 ~ 2016      ',"
    echo "                                             '           Light version           '"
    echo "                                              ',        by fiveten_59 ®         '"
    echo "                                              ',               2017           ,'"
    echo "                                                '----,      ,----,       ,----'"
    echo "                                                      '----'      '-----'"
    echo "                                                                O"
    echo "                                                                 o "
    echo "                                                                  o  "
    echo "                                                                   °"
    echo "                                                                    °"
    echo "                                                                .88888888:.          "
    echo "                                                              88888888.88888.          "
    echo "                                                            .8888888888888888.          "
    echo "                                                            888888888888888888          "
    echo "                                                            88'..'888'..'88888          "
    echo "                                                            88'  '888'  '88888          "
    echo "                                                            88'..':::'..':8888          "
    echo "                                                            88:::,::,:::::8888          "
    echo "                                                            88':::::::::''8888          "
    echo "                                                           .88  '::::'    8:88.          "
    echo "                                                          8888            '8:888.          "
    echo "                                                        .8888'             '888888.          "
    echo "                                                       .8888:..  .::.  ...:'8888888:.          "
    echo "                                                      .8888.'     :'     ''::'88:88888          "
    echo "                                                     .8888        '         '.888:8888.          "
    echo "                                                    888:8         .           888:88888          "
    echo "                                                  .888:88        .:           888:88888:          "
    echo "                                                  8888888.       ::           88:888888          "
    echo "                                                  '.::.888.      ::          .88888888          "
    echo "                                                 .::::::.888.    ::         :::'8888'.:.          "
    echo "                                                ::::::::::.888   '         .::::::::::::          "
    echo "                                                ::::::::::::.8    '      .:8::::::::::::.          "
    echo "                                              .::::::::::::::.        .:888:::::::::::::          "
    echo "                                              :::::::::::::::88:.__..:88888:::::::::::'          "
    echo "                                               ''.:::::::::::88888888888.88:::::::::'          "
    echo "                                                     '':::_:' -- '' -'-' '':_::::''          "
    echo ""
    echo "                                                     Grazie a tutti e buon divertimento"
    echo "                                                               Have fun :-)"
    echo ""
    exit 0

;;
*) ;;
esac
done
